<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[è§†å›¾çš„è½½ä½“View]]></title>
    <url>%2F2018%2F04%2F10%2F%E8%A7%86%E5%9B%BE%E7%9A%84%E8%BD%BD%E4%BD%93View%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯View Viewæ˜¯å±å¹•ä¸Šçš„ä¸€å—çŸ©å½¢åŒºåŸŸï¼Œè´Ÿè´£ç»˜åˆ¶å’Œè§¦æ‘¸åé¦ˆã€‚ Viewçš„ç”Ÿå‘½å‘¨æœŸ Viewä¸­æœ‰å¾ˆå¤šå›è°ƒæ–¹æ³•ï¼Œå®ƒä»¬åœ¨Viewçš„ä¸åŒç”Ÿå‘½å‘¨æœŸé˜¶æ®µè°ƒç”¨ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•æœ‰ä¸‹é¢è¿™äº›ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869/** * Viewåœ¨xmlæ–‡ä»¶ä¸­åŠ è½½å®Œæˆçš„æ—¶å€™è°ƒç”¨ */fun onFinishInflate()/** * Viewå…³è”çš„Windowå¯è§†æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è°ƒç”¨ */fun onWindowVisibilityChanged(visibility: Int)/** * Viewçš„å¯è§†æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è°ƒç”¨ */fun onVisibilityChanged(visibility: Int)/** * Viewå…³è”çš„Windowè·å–ç„¦ç‚¹æˆ–è€…å¤±å»ç„¦ç‚¹çš„æ—¶å€™è°ƒç”¨ */fun onWindowFocusChanged(hasWindowFocus: Boolean)/** * Viewè·å–ç„¦ç‚¹æˆ–è€…å¤±å»ç„¦ç‚¹çš„æ—¶å€™è°ƒç”¨ */fun onFocusChanged(gainFocus: Boolean, direction: Int, previouslyFocusedRect: Rect?)/** * æµ‹é‡ViewåŠå­Viewçš„æ—¶å€™è°ƒç”¨ */fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int)/** * å½“Viewçš„å¤§å°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è°ƒç”¨ */fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int)/** * å¸ƒå±€ViewåŠå…¶å­Viewçš„æ—¶å€™è°ƒç”¨ */fun onLayout(changed: Boolean, w: Int, h: Int, oldw: Int, oldh: Int)/** * ç»˜åˆ¶ViewåŠå…¶å­Viewçš„æ—¶å€™è°ƒç”¨ */fun onDraw(canvas: Canvas)/** * Viewè¢«å…³è”åˆ°Windowçš„æ—¶å€™è°ƒç”¨ */fun onAttachedToWindow()/** * Viewä»Windowä¸Šåˆ†ç¦»çš„æ—¶å€™è°ƒç”¨ */fun onDetachedFromWindow()/** * è§¦æ‘¸äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™è°ƒç”¨ */fun onTouchEvent(event: MotionEvent?)/** * ç‰©ç†æŒ‰é”®äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™è°ƒç”¨ */fun onKeyDown(keyCode: Int, event: KeyEvent)/** * ç‰©ç†æŒ‰é”®äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™è°ƒç”¨ */fun onKeyUp(keyCode: Int, event: KeyEvent) å’ŒActivityç”Ÿå‘½å‘¨æœŸçš„å…³ç³» ä¸ºäº†ç ”ç©¶Viewç”Ÿå‘½å‘¨æœŸå’ŒActivityç”Ÿå‘½å‘¨æœŸä¹‹é—´çš„å…³ç³»ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªCustomViewç±»ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆæœ‰è¶£çš„äº‹æƒ…ã€‚ onCreate å½“Activityåˆ›å»ºçš„æ—¶å€™ã€‚ onPause å½“Activityé€€åˆ°åå°çš„æ—¶å€™ã€‚ onRestart å½“Activityä»åå°è¿›å…¥å‰å°çš„æ—¶å€™ã€‚ onDestroy å½“Activityé”€æ¯çš„æ—¶å€™ã€‚ æœ‰ä»€ä¹ˆä½œç”¨å‘¢ é‚£æˆ‘ä»¬äº†è§£Viewçš„è¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿä¸‹é¢æˆ‘å°±åˆ—ä¸¾ä¸‹æˆ‘ä»¬ç»å¸¸é‡è§çš„é—®é¢˜ã€‚ åœ¨Activityä¸­è·å–Viewçš„å®½é«˜ ä½ æ˜¯å¦ä¹Ÿæ›¾ç»åœ¨Activityçš„onCreateï¼ŒonResumeç­‰æ–¹æ³•ä¸­è·å–è¿‡Viewçš„å®½é«˜ï¼Œæ˜¯å¦ä¹ŸåŒæ ·å¾—åˆ°äº†0çš„ç»“æœã€‚ä»Viewçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è°ƒç”¨æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨Activityçš„onResumeæ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼ŒViewè¿˜æ²¡æœ‰å®Œæˆæµ‹é‡ï¼Œå½“ç„¶è·å–åˆ°çš„æ˜¯0äº†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨Activityçš„onWindowFocusChanged()æ–¹æ³•ä¸­è·å–Viewçš„å®½é«˜ã€‚1234567override fun onWindowFocusChanged(hasFocus: Boolean) &#123; super.onWindowFocusChanged(hasFocus) if (hasFocus) &#123; Log.d("Amoryan", "$&#123;customView.width&#125;") Log.d("Amoryan", "$&#123;customView.height&#125;") &#125;&#125; ä¿å­˜å’Œæ¢å¤æ•°æ® åœ¨Activityçš„ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼ŒViewæœ‰å¯èƒ½éœ€è¦ä½œå‡ºç›¸åº”çš„ç›¸åº”ï¼Œæ¯”å¦‚VideoViewéœ€è¦ä¿å­˜å’Œå›å¤å½“å‰è¿›åº¦ã€‚12345678override fun onWindowVisibilityChanged(visibility: Int)&#123; super.onWindowVisibilityChanged(visibility) if (visibility == View.VISIBLE)&#123; // Activity Resumed &#125; else &#123; //Activity Paused &#125;&#125; é‡Šæ”¾èµ„æº æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨Viewä»Windowä¸Šåˆ†ç¦»çš„æ—¶å€™é‡Šæ”¾ä¸€äº›å ç”¨å†…å­˜çš„èµ„æºï¼Œæ¯”å¦‚Bitmapçš„å›æ”¶ï¼Œçº¿ç¨‹çš„é‡Šæ”¾ç­‰ã€‚1234override fun onDetachedFromWindow()&#123; super.onDetachedFromWindow() //é‡Šæ”¾èµ„æº&#125; æµ‹é‡æµç¨‹ Viewåœ¨åšæµ‹é‡çš„æ—¶å€™ï¼Œmeasure()æ–¹æ³•ä¼šè¢«çˆ¶æ§ä»¶è°ƒç”¨ï¼Œåœ¨measure()æ–¹æ³•ä¸­è°ƒç”¨è‡ªèº«çš„onMeasure()æ–¹æ³•è¿›è¡Œå®é™…çš„æµ‹é‡ã€‚ Viewå’ŒViewGroupçš„æµ‹é‡æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒViewçš„æµ‹é‡ä¼šè®¡ç®—è‡ªèº«çš„å°ºå¯¸ï¼›ä½†æ˜¯ViewGroupä¼šå…ˆéå†å­Viewçš„ï¼Œè°ƒç”¨å­Viewçš„measure()æ–¹æ³•ï¼Œæœ€åå†è®¡ç®—è‡ªèº«çš„å°ºå¯¸ã€‚ ViewGroupçš„æµ‹é‡ æˆ‘ä»¬æ‰“å¼€ViewGroup.javaçš„æºç æ–‡ä»¶ï¼Œæ‰¾åˆ°measureChildren()ã€‚123456789101112protected void measureChildren(int widthMeasureSpec, int heightMeasureSpec) &#123; final int size = mChildrenCount; final View[] children = mChildren; //éå†å­æ§ä»¶ for (int i = 0; i &lt; size; ++i) &#123; final View child = children[i]; //å¦‚æœå­æ§ä»¶çš„Visibilityå±æ€§ä¸æ˜¯View.GONEï¼Œåˆ™è¿›è¡Œæµ‹é‡ if ((child.mViewFlags &amp; VISIBILITY_MASK) != GONE) &#123; measureChild(child, widthMeasureSpec, heightMeasureSpec); &#125; &#125;&#125; è¿™ä¸ªæ–¹æ³•åšçš„äº‹æƒ…å¾ˆæ˜ç¡®ï¼Œä¼šéå†å­æ§ä»¶ï¼Œå¦‚æœå­æ§ä»¶çš„visibilityå±æ€§ä¸æ˜¯View.GONEï¼Œåˆ™è°ƒç”¨measureChild()æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹çœ‹measureChild()æ–¹æ³•åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚12345678910111213protected void measureChild(View child, int parentWidthMeasureSpec, int parentHeightMeasureSpec) &#123; //è·å–å­æ§ä»¶çš„LayoutParams final LayoutParams lp = child.getLayoutParams(); //ç”Ÿæˆå­æ§ä»¶widthçš„MeasureSpec final int childWidthMeasureSpec = getChildMeasureSpec(parentWidthMeasureSpec, mPaddingLeft + mPaddingRight, lp.width); //ç”Ÿæˆå­æ§ä»¶heightçš„MeasureSpec final int childHeightMeasureSpec = getChildMeasureSpec(parentHeightMeasureSpec, mPaddingTop + mPaddingBottom, lp.height); //è°ƒç”¨å­æ§ä»¶çš„measureæ–¹æ³•è¿›è¡Œæµ‹é‡ child.measure(childWidthMeasureSpec, childHeightMeasureSpec);&#125; ä»æºç å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ–¹æ³•åšäº†å¦‚ä¸‹å‡ ä»¶äº‹æƒ… 1. ä¼šå…ˆè·å–å­æ§ä»¶çš„LayoutParamsï¼› 2. ç„¶åæ ¹æ®è‡ªèº«çš„MeasureSpecï¼Œå’Œå­æ§ä»¶çš„LayoutParamsè®¡ç®—å­æ§ä»¶çš„MeasureSpecï¼› 3. æœ€åå†è°ƒç”¨å­æ§ä»¶çš„measure()æ–¹æ³•è¿›è¡Œå­æ§ä»¶çš„æµ‹é‡æµç¨‹ã€‚ é‚£ä¹ˆå­æ§ä»¶çš„MeasureSpecæ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹getChildMeasaureSpec()æ–¹æ³•æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public static int getChildMeasureSpec(int spec, int padding, int childDimension) &#123; //è·å–ViewGroupçš„specModeå’ŒspecSize int specMode = MeasureSpec.getMode(spec); int specSize = MeasureSpec.getSize(spec); //è®¡ç®—å½“å‰èƒ½å¤Ÿç»™äºˆçš„æœ€å¤§å€¼(çˆ¶æ§ä»¶ç»™äºˆçš„å€¼å‡å»ViewGroupçš„å†…è¾¹è·) int size = Math.max(0, specSize - padding); int resultSize = 0; int resultMode = 0; switch (specMode) &#123; //æ ¹æ®ViewGroupçš„MeasureSpecå’ŒViewçš„LayoutParamså¾—åˆ°Viewçš„MeasureSpec case MeasureSpec.EXACTLY: if (childDimension &gt;= 0) &#123; //å­æ§ä»¶çš„LayoutParamsæ˜¯å…·ä½“å€¼ resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; //å­æ§ä»¶çš„LayoutParamsæ˜¯MATCH_PARENT resultSize = size; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; //å­æ§ä»¶çš„LayoutParamsæ˜¯WRAP_CONTENT resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; break; case MeasureSpec.AT_MOST: if (childDimension &gt;= 0) &#123; resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; resultSize = size; resultMode = MeasureSpec.AT_MOST; &#125; break; case MeasureSpec.UNSPECIFIED: if (childDimension &gt;= 0) &#123; resultSize = childDimension; resultMode = MeasureSpec.EXACTLY; &#125; else if (childDimension == LayoutParams.MATCH_PARENT) &#123; resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size; resultMode = MeasureSpec.UNSPECIFIED; &#125; else if (childDimension == LayoutParams.WRAP_CONTENT) &#123; resultSize = View.sUseZeroUnspecifiedMeasureSpec ? 0 : size; resultMode = MeasureSpec.UNSPECIFIED; &#125; break; &#125; //è°ƒç”¨MeasureSpecçš„makeMeasureSpecæ–¹æ³•ç”Ÿæˆå­æ§ä»¶çš„MeasureSpec return MeasureSpec.makeMeasureSpec(resultSize, resultMode);&#125; è¿™ä¸ªæ–¹æ³•çš„é€»è¾‘ä¹Ÿååˆ†æ˜äº† 1. å¾—åˆ°ViewGroupçš„specModeå’ŒspecSizeï¼› 2. è·å–ViewGroupèƒ½å¤Ÿç»™äºˆå­Viewçš„æœ€å¤§sizeï¼› 3. æ ¹æ®ViewGroupçš„specModeä»¥åŠå­Viewçš„LayoutParamså¾—åˆ°å­Viewçš„specModeå’ŒspecSizeï¼› 4. é€šè¿‡MeasureSpecçš„makeMeasureSpec()æ–¹æ³•ç”Ÿæˆå­Viewçš„MeasureSpecã€‚ æœ€åå†æ¥çœ‹çœ‹makeMeasureSpec()æ–¹æ³•ã€‚1234567public static int makeMeasureSpec(int size, int mode) &#123; if (sUseBrokenMakeMeasureSpec) &#123; return size + mode; &#125; else &#123; return (size &amp; ~MODE_MASK) | (mode &amp; MODE_MASK); &#125;&#125; è™½ç„¶if-elseåˆ†æ”¯è®¡ç®—çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¥½å¥‡çš„çœ‹äº†çœ‹sUseBrokenMakeMeasureSpecè¿™ä¸ªæˆå‘˜å˜é‡ã€‚å‘ç°åœ¨Viewæ„é€ çš„æ—¶å€™ä¼šæ ¹æ®ç‰ˆæœ¬ä¿®æ”¹è¿™ä¸ªå€¼ã€‚1sUseBrokenMakeMeasureSpec = targetSdkVersion &lt;= Build.VERSION_CODES.JELLY_BEAN_MR1 åªæ˜¯åœ¨API17ä¹‹å‰ä½¿ç”¨æ—§çš„MeasureSpecè®¡ç®—æ–¹å¼ã€‚ Viewçš„æµ‹é‡ çœ‹å®ŒViewGroupçš„æµ‹é‡ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹Viewçš„onMeasure()æ–¹æ³•ã€‚1234protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec), getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));&#125; æ¥çœ‹çœ‹getSuggestedMinimumWidth()å’ŒgetSuggestedMinimumHeight()æ–¹æ³•ã€‚1234567protected int getSuggestedMinimumWidth() &#123; return (mBackground == null) ? mMinWidth : max(mMinWidth, mBackground.getMinimumWidth());&#125;protected int getSuggestedMinimumHeight() &#123; return (mBackground == null) ? mMinHeight : max(mMinHeight, mBackground.getMinimumHeight());&#125; è¿™ä¸ªæ–¹æ³•åªæ˜¯è·å–æœ€å°çš„å®½åº¦å’Œé«˜åº¦ã€‚ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹getDefaultSize()æ–¹æ³•ã€‚123456789101112131415161718public static int getDefaultSize(int size, int measureSpec) &#123; //å…ˆèµ‹å€¼ä¸ºæœ€å°å€¼ int result = size; //è·å–specModeå’ŒspecSize int specMode = MeasureSpec.getMode(measureSpec); int specSize = MeasureSpec.getSize(measureSpec); //æ ¹æ®specModeå¾—åˆ°æœ€ç»ˆsizeï¼Œå¦‚æœMeasureSpecä¸æ˜¯UNSPECIFIEDï¼Œé‚£ä¹ˆæœ€ç»ˆçš„sizeå°±æ˜¯ViewGroupèƒ½ç»™äºˆçš„æœ€å¤§size switch (specMode) &#123; case MeasureSpec.UNSPECIFIED: result = size; break; case MeasureSpec.AT_MOST: case MeasureSpec.EXACTLY: result = specSize; break; &#125; return result;&#125; å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•ä¼šæ ¹æ®specModeå¾—åˆ°Viewæœ€ç»ˆçš„sizeï¼Œä½†ä½†æ˜¯ï¼ŒAT_MOSTè¡¨ç¤ºLayoutParamsæ˜¯WRAP_CONTENTï¼Œä»æºç å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœè®¾ç½®ä¸ºWRAP_CONTENTï¼Œæœ€ç»ˆè®¡ç®—çš„å€¼å®é™…ä¸Šå¹¶ä¸æ˜¯åŒ…è£¹å†…å®¹çš„ï¼Œè€Œæ˜¯çˆ¶æ§ä»¶èƒ½å¤Ÿç»™äºˆçš„æœ€å¤§å€¼ï¼Œæ‰€æ‰€ä»¥ï¼Œè¿™å°±è¯´æ˜äº†ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨è‡ªå®šä¹‰Viewçš„æ—¶å€™éœ€è¦é‡å†™onMeasureæ–¹æ³•ç»™å‡ºspecModeæ˜¯AT_MOSTçš„æ—¶å€™çš„å®é™…sizeçš„è®¡ç®—æ–¹å¼äº†ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitå¸¸ç”¨å‘½ä»¤(æŒç»­æ›´æ–°)]]></title>
    <url>%2F2018%2F03%2F14%2Fgit%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4(%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0)%2F</url>
    <content type="text"><![CDATA[èµ·å›  ä¸€ç›´ä½¿ç”¨çš„AndroidStudioè¿›è¡Œå¼€å‘ï¼Œå®ƒå°†gitçš„æ“ä½œå°è£…çš„ååˆ†ç®€å•ï¼Œä»¥è‡³äºæˆ‘æ ¹æœ¬å°±æ²¡æœ‰ç»†ç©¶gitå‘½ä»¤çš„ä½œç”¨ï¼Œè¿™å°±å¯¼è‡´æœ‰æ—¶å€™å’ŒåŒäº‹ä¸€èµ·å¼€å‘é‡åˆ°é—®é¢˜äº†ä¸çŸ¥é“æ€ä¹ˆå»è§£å†³ã€‚ å‡†å¤‡å·¥ä½œ é¦–å…ˆï¼Œæˆ‘ä»¬å¾—å®‰è£…gitï¼Œå¦‚æœä¸ä¼šçš„ï¼Œè¯·è‡ªè¡Œç™¾åº¦æˆ–è€…googleï¼› ç„¶åï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºä¸€ä¸ªgitä»“åº“ï¼Œå¼€å§‹æˆ‘ä»¬çš„gitå‘½ä»¤å­¦ä¹ ä¹‹æ—… git rebaseä¸¾ä¸ªğŸŒ° ä½ åˆšæ¥åˆ°ä¸€ä¸ªéœ€æ±‚éœ€è¦å¼€å‘AåŠŸèƒ½ï¼Œç„¶åä½ åœ¨æœ¬åœ°åˆ‡å‡ºä¸€ä¸ªdev_afuncçš„åˆ†æ”¯ï¼Œç„¶åå¼€å‘äº†ä¸€éƒ¨åˆ†çš„æ—¶å€™ï¼Œä½ å°†ä»£ç commitäº†å‡ æ¬¡ï¼›è¿™ä¸ªæ—¶å€™ï¼Œäº§å“ç»ç†è¿‡æ¥è¯´æœ‰ä¸ªBåŠŸèƒ½æ¯”è¾ƒç´§æ€¥ï¼Œç„¶åè¿™ä¸ªæ—¶å€™ä½ éœ€è¦å¼€å‘BåŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™ä½ åˆåˆ›å»ºäº†dev_bfuncçš„åˆ†æ”¯ï¼Œåœ¨ä¸Šé¢è¿›è¡Œå¼€å‘ï¼Œå¼€å‘å®Œäº†ä¹‹åéªŒæ”¶é€šè¿‡ç„¶åå‘å¸ƒäº†ã€‚è¿™ä¸ªæ—¶å€™ä½ åˆè¦å›è¿‡å¤´æ¥å¼€å‘AåŠŸèƒ½ã€‚ AåŠŸèƒ½å¼€å‘ä¸­ æˆ‘ä»¬æ–°æ‹‰å‡ºä¸€ä¸ªåˆ†æ”¯ï¼Œç„¶ååšä¸€äº›ä¿®æ”¹å¹¶æäº¤åˆ°å½“å‰åˆ†æ”¯ã€‚123$ git checkout -b dev_afunc$ git add .$ git commit -m "å¼€å‘AåŠŸèƒ½ä¸­" è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ åŠè·¯æ€å‡ºä¸ªB ç„¶åè¿™ä¸ªæ—¶å€™ï¼ŒBåŠŸèƒ½æ¯”è¾ƒç´§æ€¥ï¼Œäºæ˜¯æˆ‘ä»¬å°†åˆ†æ”¯åˆ‡æ¢åˆ°äº†masterï¼Œç„¶åå†æ‹‰å‡ºä¸€ä¸ªdev_bfuncåˆ†æ”¯è¿›è¡Œå¼€å‘BåŠŸèƒ½ï¼Œå¹¶åšä¸€äº›ä¿®æ”¹ä¹‹åæäº¤åˆ°å½“å‰åˆ†æ”¯ã€‚1234$ git checkout master$ git checkout -b dev_bfunc$ git add .$ git commit -m "å¼€å‘BåŠŸèƒ½ä¸­" è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ BåŠŸèƒ½å¼€å‘å®Œäº†ä¸Šçº¿ ç„¶åæˆ‘ä»¬å°†å¼€å‘å®Œçš„BåŠŸèƒ½åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼Œè¿›è¡Œå‘å¸ƒä¸Šçº¿ã€‚12$ git checkout master$ git merge dev_bfunc è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ ç»§ç»­AåŠŸèƒ½çš„å¼€å‘ ä¹‹åæˆ‘ä»¬éœ€è¦ç»§ç»­è¿›è¡ŒAåŠŸèƒ½çš„å¼€å‘ï¼Œå¹¶ä¸”è¦åŒ…å«æœ‰å·²å¼€å‘å¥½çš„BåŠŸèƒ½ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨rebaseå‘½ä»¤äº†ã€‚12$ git checkout dev_afunc$ git rebase master ç„¶åæˆ‘ä»¬å‘ç°iTermä¸­å‡ºç°å¦‚ä¸‹çš„é—®é¢˜ï¼Œå› ä¸ºAåŠŸèƒ½å’ŒBåŠŸèƒ½ä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ªåœ°æ–¹ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰“å¼€æ–‡ä»¶çœ‹çœ‹é‡Œé¢çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚ ç„¶åæˆ‘ä»¬é€šè¿‡git branchå‘½ä»¤çœ‹çœ‹ç›®å‰ä¸åœ¨ä»»ä½•ä¸€ä¸ªåˆ†æ”¯ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°†æ–‡ä»¶çš„å†²çªè§£å†³æ‰ä¹‹åï¼Œå†ç»§ç»­è¿›è¡Œrebaseæ“ä½œã€‚12$ git add .$ git rebase --continue ç„¶åæˆ‘ä»¬åœ¨iTermä¸­å¯ä»¥çœ‹åˆ°rebaseæˆåŠŸäº†ã€‚ æœ€åæˆ‘ä»¬å†çœ‹çœ‹dev_afuncåˆ†æ”¯ä¸­æ–‡ä»¶çš„å†…å®¹æ˜¯ä¸æ˜¯çœŸçš„æ˜¯éƒ½æœ‰äº†ã€‚ git rebaseå›¾è§£ å®é™…ä¸Šgit rebaseçš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å°†å½“å‰åˆ†æ”¯çš„commitåˆ›å»ºæ–°çš„commitæ‹¼æ¥åˆ°ä½ è¦rebaseçš„åˆ†æ”¯commitåé¢ã€‚ git tag åœ¨ä½ é˜…è¯»ç”µå­ä¹¦çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ç»å¸¸æ€§çš„ä¼šåœ¨æŸä¸ªåœ°æ–¹æ·»åŠ ä¹¦ç­¾ï¼Œåˆ°æ—¶å€™å›è¿‡å¤´æ–¹ä¾¿æŸ¥æ‰¾ã€‚å…¶å®åœ¨gitä¸­ï¼Œtagå°±åƒæ˜¯ä¸€ä¸ªä¹¦ç­¾ï¼Œå¸®ä½ å¿«é€Ÿçš„ä¼šé€€åˆ°ä½ æƒ³è¦çš„é‚£ä¸ªç‰ˆæœ¬ã€‚ åœºæ™¯ åœ¨æˆ‘ä»¬å¹³å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼ŒæŸä¸ªç‰ˆæœ¬ä¸Šçº¿åï¼Œè¿è¡Œäº†ä¸€æ®µæ—¶é—´å‡ºç°äº†å…¼å®¹æ€§é—®é¢˜ï¼Œéœ€è¦ç´§æ€¥ä¿®å¤è¿™ä¸ªbugï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸Šçº¿çš„é‚£ä¸ªç‰ˆæœ¬ï¼Œç„¶åä¿®æ”¹ä»£ç ï¼Œå†å°†ä¿®æ”¹åçš„ä»£ç å’Œç°åœ¨å¼€å‘çš„ä»£ç è¿›è¡Œåˆå¹¶ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹tagå¦‚ä½•æ–¹ä¾¿å’Œå¿«é€Ÿçš„è§£å†³è¿™ç§é—®é¢˜ã€‚ å‡†å¤‡å·¥ä½œ é¦–å…ˆå»ºç«‹ä¸€ä¸ªgitä»“åº“å’Œä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå¹¶å°†æœ¬åœ°ä»“åº“å…³è”åˆ°è¿œç¨‹ä»“åº“ã€‚1234$ mkdir gitpractice$ cd gitpractice$ git init$ git remote add origin è¿œç¨‹ä»“åº“åœ°å€ å¢åŠ aæ–‡ä»¶ ç„¶åæˆ‘ä»¬å¢åŠ ä¸€ä¸ªcommitï¼Œæ·»åŠ ä¸€ä¸ªaæ–‡ä»¶ï¼Œå¹¶å°†å…¶æäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚1234$ vi a.txt$ git add .$ git commit -m "å¢åŠ a.txtæ–‡ä»¶"$ git push origin master å¢åŠ tag æ¯”å¦‚ç°åœ¨ä½ çš„åŠŸèƒ½å¼€å‘å®Œæ¯•å¹¶ä¸”æµ‹è¯•å·²ç»æµ‹è¯•å®Œæ¯•äº†ï¼Œå…·å¤‡äº†ä¸Šçº¿çš„èµ„æ ¼ã€‚åœ¨æˆ‘ä»¬ä¸Šçº¿ä¹‹å‰ï¼Œç°åœ¨æœ€åä¸€æ¬¡commitä¸Šæ‰“ä¸Štagï¼Œæ–¹ä¾¿ä¹‹åè¿­ä»£äº†éœ€è¦å›åˆ°è¿™ä¸ªç‰ˆæœ¬å¤„ç†bugã€‚ åœ¨gitä¸­ï¼Œtagåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯è½»é‡çº§ï¼Œä¸€ç§æ˜¯å«é™„æ³¨ã€‚ è½»é‡çº§æ ‡ç­¾å°±åƒæ˜¯ä¸ªä¸ä¼šå˜åŒ–çš„åˆ†æ”¯ï¼Œå®é™…ä¸Šå®ƒå°±æ˜¯ä¸ªæŒ‡å‘ç‰¹å®šæäº¤å¯¹è±¡çš„å¼•ç”¨ã€‚è€Œå«é™„æ³¨æ ‡ç­¾ï¼Œå®é™…ä¸Šæ˜¯å­˜å‚¨åœ¨ä»“åº“ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå®ƒæœ‰è‡ªèº«çš„æ ¡éªŒå’Œä¿¡æ¯ï¼ŒåŒ…å«ç€æ ‡ç­¾çš„åå­—ï¼Œç”µå­é‚®ä»¶åœ°å€å’Œæ—¥æœŸï¼Œä»¥åŠæ ‡ç­¾è¯´æ˜ï¼Œæ ‡ç­¾æœ¬èº«ä¹Ÿå…è®¸ä½¿ç”¨ GNU Privacy Guard (GPG) æ¥ç­¾ç½²æˆ–éªŒè¯ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¼šä½¿ç”¨éŸ©é™„æ³¨çš„tagã€‚1$ git tag -a v1.0 -m "ç‰ˆæœ¬1.0ä¸Šçº¿" è¿™æ ·ä½ å°±åˆ›å»ºäº†ä¸€ä¸ªåä¸ºv1.0çš„tagï¼Œé™„æ³¨ä¿¡æ¯æ˜¯â€œç‰ˆæœ¬1.0ä¸Šçº¿â€ã€‚é‚£æˆ‘ä»¬æ€ä¹ˆæŸ¥çœ‹è‡ªå·±åˆ›å»ºçš„tagå‘¢ã€‚12$ git tag$ git tag --list ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤éƒ½å¯ä»¥æŸ¥çœ‹å½“å‰çš„tagã€‚åˆ›å»ºå®Œtagä¹‹åï¼Œè¿œç¨‹ä»“åº“æ˜¯æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶pushåˆ°è¿œç¨‹ä»“åº“ä¸­ã€‚1$ git push origin v1.0 è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ ç»§ç»­ä¸‹ä¸ªç‰ˆæœ¬çš„å¼€å‘ ç‰ˆæœ¬1.0ä¸Šçº¿ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹äº†ç‰ˆæœ¬1.1çš„å¼€å‘è¿­ä»£ã€‚æˆ‘ä»¬æ¥æ¨¡æ‹Ÿæäº¤ä¸€äº›commitã€‚12345678910$ vi b.txt$ git add .$ git commit -m "å¢åŠ b.txtæ–‡ä»¶"$ vi c.txt$ git add .$ git commit -m "å¢åŠ c.txtæ–‡ä»¶"$ vi a.txt$ git add .$ git commit -m "ä¿®æ”¹a.txtæ–‡ä»¶"$ git push origin master è¿™æ ·æˆ‘ä»¬çš„1.1ç‰ˆæœ¬å°±æ­£åœ¨å¼€å‘ä¸­äº†ï¼Œè¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ çº¿ä¸Šå‡ºç°ç´§æ€¥bug åœ¨å¼€å‘1.1çš„è¿‡ç¨‹ä¸­ï¼Œçº¿ä¸Šå‡ºç°äº†ä¸€ä¸ªç´§æ€¥bugéœ€è¦fixé‡æ–°å‘åŒ…ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦å°†ä¹‹å‰çš„ä»£ç æ‰¾å‡ºæ¥ï¼Œç„¶åfix bugä¹‹åæ‰“åŒ…ã€‚è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰çš„tag v1.0å—ï¼Œè¿™ä¸ªæ—¶å€™å®ƒå°±å‘æŒ¥ä½œç”¨äº†ã€‚12$ git checkout -b bugfix v1.0$ git branch ä¸Šé¢çš„å‘½ä»¤æ˜¯å°†tag v1.0çš„ä»£ç æ‰¾å‡ºæ¥å¹¶æ–°å»ºä¸€ä¸ªåä¸ºbugfixçš„åˆ†æ”¯ï¼Œè¿™æ ·bugfixåˆ†æ”¯ä¸Šçš„ä»£ç å°±æ˜¯ä¹‹å‰æ‰“tagçš„ä»£ç äº†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹çœ‹å½“å‰bugfixåˆ†æ”¯ä¸‹ï¼Œæ–‡ä»¶å¤¹ä¸­æœ‰ä»€ä¹ˆã€‚ ä¿®å¤bug æˆ‘ä»¬ä¿®æ”¹a.txtæ–‡ä»¶ï¼Œå‡è£…fixbugäº†ã€‚123$ vi a.txt$ git add .$ git commit -m "bugfix" ç„¶åbugfixä¹‹åï¼Œæˆ‘ä»¬åœ¨å½“å‰åˆ†æ”¯ä¸Šæ‰“åŒ…å‘å¸ƒäº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åœ¨è¿­ä»£å¼€å‘çš„v1.1ç‰ˆæœ¬åˆ†æ”¯ä¸Šå¹¶æ²¡æœ‰ä¿®æ”¹å½“å‰çš„bugï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦å°†ä¿®æ”¹åçš„ä»£ç mergeåˆ°ä¸»åˆ†æ”¯ä¸Šã€‚è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ åˆå¹¶åˆ†æ”¯ å…ˆåˆ‡å›åˆ°masteråˆ†æ”¯ï¼Œç„¶ååˆå¹¶bugfixåˆ†æ”¯çš„å†…å®¹ï¼Œè¿™æ ·masteråˆ†æ”¯å°±æœ‰äº†bugfixçš„å†…å®¹ã€‚å› ä¸ºbugfixä¿®æ”¹äº†a.txtæ–‡ä»¶çš„å†…å®¹ï¼Œmergeçš„æ—¶å€™è‚¯å®šä¼šå­˜åœ¨å†²çªã€‚12$ git checkout master$ git merge bugfix å¤„ç†å†²çª è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å¤„ç†æ‰å†²çªï¼Œç„¶åé‡æ–°commitã€‚1234$ vi a.txt$ git add .$ git commit -m "å¤„ç†å†²çª"$ git push origin master è¿™ä¸ªæ—¶å€™å†²çªå°±è¢«è§£å†³äº†ï¼Œæˆ‘ä»¬å†æ¥æ¥çœ‹çœ‹masteråˆ†æ”¯ä¸Šæ˜¯å¦å·²ç»è¿›è¡Œäº†bugfixï¼Œç„¶åæˆ‘ä»¬å†å°†ä»£ç pushåˆ°è¿œç¨‹ä»“åº“ã€‚è¿™ä¸ªæ—¶å€™gitä»“åº“æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œmergeä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„commitæ”¾åœ¨masteråˆ†æ”¯åã€‚ é‡æ–°æ‰“å…¥tag å½“ç„¶æˆ‘ä»¬åˆ«å¿˜äº†åœ¨bugfixä¹‹åé‡æ–°æ‰“ä¸Štagã€‚12345$ git branch$ git checkout bugfix$ git tag -a v1.0bugfix -m "v1.0bugfix"$ git tag --list$ git push origin v1.0bugfix æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•clone aosp]]></title>
    <url>%2F2018%2F03%2F13%2F%E5%A6%82%E4%BD%95clone-aosp%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯aosp aosp(android open source project)å…¶å®å°±æ˜¯Androidå¼€æºé¡¹ç›®ã€‚ gitåœ°å€: https://android.googlesource.com/ã€‚ cloneé¡¹ç›® å¦‚æœä½ æƒ³è¦æŠŠæ•´ä¸ªçš„aospé¡¹ç›®cloneä¸‹æ¥ï¼Œå»ºè®®ä½ ä¹°ä¸ªç§»åŠ¨ç¡¬ç›˜ã€‚æœ¬äººæ¯”è¾ƒç©·ï¼Œmacåªæœ‰256Gçš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥è¿™é‡Œå°±åªclone frameworkåº“çš„ä»£ç åšç¤ºèŒƒï¼Œå¤§æ¦‚æœ‰2Gå·¦å³ã€‚ å‡†å¤‡å·¥ä½œgit é¦–å…ˆä½ å¾—åœ¨ç”µè„‘ä¸Šè£…gitï¼Œå•Šï¼Œä½ é—®æˆ‘ä¸ºä»€ä¹ˆï¼Ÿä½ ä¸è£…æ€ä¹ˆcloneé¡¹ç›®(mdzzï¼Œè°é—®ä½ äº†)ã€‚ç„¶åé…ç½®ç”¨æˆ·åå’Œé‚®ç®±ã€‚12$ git config --global user.name "xxx"$ git config --global user.email "xxx@gmail.com" æ‰¾ä»“åº“åœ°å€ é…ç½®å¥½ä½ çš„gitä¹‹åä½ éœ€è¦åœ¨googleçš„ä»£ç åº“é‡Œé¢æ‰¾åˆ°frameworkçš„ä»“åº“åœ°å€ï¼Œå¤§æ¦‚æ˜¯ä¸‹é¢è¿™æ ·ã€‚ å¼€å§‹clone å‡†å¤‡å·¥ä½œåšå®Œä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹cloneé¡¹ç›®äº†ã€‚1$ git clone https://android.googlesource.com/platform/frameworks/base ä¸€åˆ‡ä¼¼ä¹éƒ½åœ¨æƒ…ç†ä¹‹ä¸­ï¼Œç„¶åè¿‡äº†ä¸€ä¼šï¼ŒiTermé‡Œé¢æ˜¾ç¤ºå¦‚ä¸‹é—®é¢˜ã€‚ è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºgitæ²¡æ³•è®¿é—®åˆ°frameworkçš„ä»“åº“ã€‚å› ä¸ºæˆ‘çš„vpnæ˜¯å¼€å¯çš„ï¼Œäºæ˜¯æˆ‘è§‰å¾—åº”è¯¥æ˜¯gitçš„é—®é¢˜ï¼Œç„¶ååœ¨googleä¸Šæœç´¢äº†ä¸‹ï¼Œgitéœ€è¦è®¾ç½®ä»£ç†ã€‚123$ git config --global http.proxy "http://xxx.xxx.xxx:port"$ git config --global https.proxy "http://xxx.xxx.xxx:port"$ git config --global http.sslVerify false æˆ‘ç”¨çš„æ˜¯è“ç¯ï¼Œåœ¨è®¾ç½®ï¼ç½‘ç»œï¼é«˜çº§ï¼ä»£ç†é‡Œé¢å¯ä»¥æŸ¥çœ‹ä»£ç†åœ°å€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º ç„¶åå†æ¬¡è¿è¡Œgit cloneå‘½ä»¤ï¼Œç­‰å¾…æ•°åˆ†é’Ÿä¹‹åå°±èƒ½çœ‹åˆ°å·²ç»cloneå¥½çš„ä»£ç äº†ã€‚ æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>ç‚¹æ»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼]]></title>
    <url>%2F2018%2F03%2F13%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F2018%2F03%2F05%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å‰è¨€ åœ¨windowsç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ— è®ºæˆ‘ä»¬å¦‚ä½•å»å¼€å¯ä»»åŠ¡ç®¡ç†å™¨ï¼Œéƒ½åªèƒ½æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œå› ä¸ºæ¯ä¸ªçª—å£æ˜¾ç¤ºçš„æ•°æ®ï¼Œåšçš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ã€‚æˆ‘ä»¬æ—¥å¸¸çš„ç¼–ç ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼ŒæŸä¸ªç±»å¸Œæœ›åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œè¿™å°±éœ€è¦ç”¨åˆ° å•ä¾‹æ¨¡å¼äº† ã€‚ é¥¿æ±‰å¼ é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼æ¯”è¾ƒç®€å•ã€‚1234567891011public class Singleton&#123; private static final Singleton instance = Singleton(); private Singleton()&#123;&#125; public static Singleton getInstance()&#123; return instance; &#125;&#125; ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™å°±ä¼šåˆ›å»ºSingletonçš„å¯¹è±¡ã€‚ æ‡’æ±‰å¼ æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ï¼Œå°±æ˜¯è®²å¯¹è±¡çš„å®ä¾‹åŒ–æ”¾åœ¨ä½¿ç”¨çš„æ—¶å€™ã€‚1234567891011121314public class Singleton&#123; private static Singleton instance; private Singleton()&#123;&#125; public static Singleton getInstance()&#123; if (instance == null)&#123; instance = new Singleton(); &#125; return instance; &#125;&#125; ä¸Šé¢è¿™ä¸²ä»£ç åœ¨å•çº¿ç¨‹é‡Œé¢æ˜¯èƒ½å¤Ÿä¿è¯åªåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ã€‚ä½†æ˜¯æ”¾åˆ°å¤šçº¿ç¨‹é‡Œé¢å°±ä¼šå‡ºç°åˆ›å»ºå¤šä¸ªå¯¹è±¡çš„æƒ…å†µã€‚æ‰€ä»¥æˆ‘ä»¬å¦‚æœè¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å•ä¾‹ï¼Œåˆ™éœ€è¦åŠ  synchronized å…³é”®å­—ã€‚1234567891011121314public class Singleton&#123; private static Singleton instance; private Singleton()&#123;&#125; public synchronized static Singleton getInstance()&#123; if (instance == null)&#123; instance = new Singleton(); &#125; return instance; &#125;&#125; ä½†æ˜¯åŠ ä¸ŠåŒæ­¥ä¹‹ååˆå‡ºç°äº†å¦å¤–ä¸€ä¸ªæ€§èƒ½é—®é¢˜ï¼Œå¦‚æœæœ‰å¾ˆå¤šä¸ªçº¿ç¨‹éƒ½åœ¨è¯·æ±‚è¿™ä¸ªæ–¹æ³•ï¼Œè€Œä¸”è¿™ä¸ªæ–¹æ³•é‡Œé¢è¦åšå¾ˆå¤šçš„åˆå§‹åŒ–æ“ä½œï¼Œå°±ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æŒç»­ç­‰å¾…ç­‰æƒ…å†µï¼Œä¸‹é¢ä¸ä½¿ç”¨æ–¹æ³•é”çš„æƒ…å†µï¼Œä½†æ˜¯éœ€è¦åŠ åŒé‡æ ¡éªŒï¼Œå› ä¸ºæœ‰å¯èƒ½Açº¿ç¨‹èµ°å®Œç¬¬ä¸€å±‚çš„åˆ¤æ–­åï¼ŒCPUæ‰§è¡Œç‰‡ç»™äº†Bçº¿ç¨‹ï¼Œç„¶åBçº¿ç¨‹è·å–é”åˆ›å»ºäº†å¯¹è±¡ï¼Œå¦‚æœåŒæ­¥ä»£ç å—é‡Œé¢ä¸æ·»åŠ ä¸€å±‚æ ¡éªŒå°±ä¼šå¯¼è‡´Açº¿ç¨‹ä¹Ÿä¼šåˆ›å»ºå¯¹è±¡ã€‚123456789101112131415161718public class Singleton &#123; private static Singleton instance; private Singleton()&#123;&#125; public static Singleton getInstance() &#123; if (instance == null) &#123; synchronized (Singleton.class) &#123; if (instance == null) &#123; instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; holderæ¨¡å¼ é¥¿æ±‰å¼æ²¡æœ‰åŠæ³•å»¶æ—¶åŠ è½½ï¼Œè€Œæ‡’æ±‰å¼çš„åŒæ­¥åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹åˆä¼šå½±å“æ€§èƒ½ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰å¦å¤–ä¸€ç§æ–¹å¼èƒ½å¤Ÿå…‹æœè¿™ä¸¤è€…çš„ç¼ºç‚¹å‘¢ï¼Ÿç­”æ¡ˆè‚¯å®šæ˜¯æœ‰çš„ã€‚1234567891011121314public class Singleton &#123; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; return Holder.instance; &#125; private static class Holder &#123; private static final Singleton instance = new Singleton(); &#125;&#125; ç”±äºé™æ€å•ä¾‹å¯¹è±¡æ²¡æœ‰ä½œä¸ºSingletonçš„æˆå‘˜å˜é‡ç›´æ¥å®ä¾‹åŒ–ï¼Œå› æ­¤ç±»åŠ è½½æ—¶ä¸ä¼šå®ä¾‹åŒ–Singletonï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨getInstance()æ—¶å°†åŠ è½½å†…éƒ¨ç±»Holderï¼Œåœ¨è¯¥å†…éƒ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªstaticç±»å‹çš„å˜é‡instanceï¼Œæ­¤æ—¶ä¼šé¦–å…ˆåˆå§‹åŒ–è¿™ä¸ªæˆå‘˜å˜é‡ï¼Œç”±Javaè™šæ‹Ÿæœºæ¥ä¿è¯å…¶çº¿ç¨‹å®‰å…¨æ€§ï¼Œç¡®ä¿è¯¥æˆå‘˜å˜é‡åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ã€‚ç”±äºgetInstance()æ–¹æ³•æ²¡æœ‰ä»»ä½•çº¿ç¨‹é”å®šï¼Œå› æ­¤å…¶æ€§èƒ½ä¸ä¼šé€ æˆä»»ä½•å½±å“ã€‚ Kotlinä¸‹çš„å•ä¾‹æ¨¡å¼é¥¿æ±‰å¼ kotlinä¸‹çš„é¥¿æ±‰å¼å°±æœ‰æ„æ€äº†ï¼Œå¦‚ä¸‹å°±æ˜¯ä¸€ä¸ªé¥¿æ±‰å¼çš„å•ä¾‹æ¨¡å¼ã€‚1object Singleton ä½ æ²¡æœ‰çœ‹é”™ï¼Œä»–å°±æ˜¯ä¸€ä¸ªé¥¿æ±‰å¼ï¼Œæˆ‘ä»¬é€šè¿‡å·¥å…·å¯ä»¥çœ‹åˆ°å®ƒå¯¹åº”çš„javaä»£ç å¦‚ä¸‹ã€‚1234567891011public final class Singleton &#123; public static final Singleton INSTANCE; private Singleton() &#123; INSTANCE = (Singleton)this; &#125; static &#123; new Singleton(); &#125;&#125; æ‡’æ±‰å¼ kotliné‡Œé¢æ˜¯æ²¡æœ‰synchronizedå…³é”®å­—çš„ï¼Œå¦‚æœè¦æ˜¯ç”¨åŒæ­¥æ–¹æ³•çš„å½¢å¼ï¼Œåˆ™éœ€è¦ä½¿ç”¨ @Synchronized æ³¨è§£ã€‚è€ŒåŒæ­¥ä»£ç å—çš„æ–¹å¼æ˜¯ä½¿ç”¨ synchronized() æ–¹æ³•ã€‚1234567891011121314151617181920class Singleton private constructor() &#123; companion object &#123; private var instance: Singleton? = null fun getSingleton(): Singleton &#123; if (instance == null) &#123; synchronized(Singleton::class.java) &#123; if (instance == null) &#123; instance = Singleton() &#125; &#125; &#125; return instance!! &#125; &#125;&#125; holderæ–¹å¼ å†æ¥çœ‹çœ‹holderæ–¹å¼å¦‚ä½•é€šè¿‡kotlinæ¥å®ç°ã€‚123456789101112131415class Singleton private constructor() &#123; companion object &#123; fun getSingleton(): Singleton &#123; return Holder.instance &#125; &#125; private object Holder &#123; val instance: Singleton = Singleton() &#125;&#125; æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºViewPagerå¦‚ä½•ä¸€å±å¤šæ˜¾]]></title>
    <url>%2F2018%2F03%2F05%2F%E5%85%B3%E4%BA%8EViewPager%E5%A6%82%E4%BD%95%E4%B8%80%E5%B1%8F%E5%A4%9A%E6%98%BE%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æœ€è¿‘é¡¹ç›®UIå›¾ä¸Šæœ‰ä¸ªä¸€å±æ˜¾ç¤ºå¤šä¸ªPagerçš„æ§ä»¶ï¼Œæƒ³äº†æƒ³ç›´æ¥é€šè¿‡ViewPageræ¥å®ç°ã€‚ å®ç°æ–¹å¼ é¡¹ç›®åœ°å€ getPageWidth å®é™…ä¸ŠPagerAdapteré‡Œé¢å°±æä¾›äº†å®ç°ä¸€å±å¤šæ˜¾çš„æ–¹æ³•12345678910/** * Returns the proportional width of a given page as a percentage of the * ViewPager's measured width from (0.f-1.f] * * @param position The position of the page requested * @return Proportional width for the given page position */public float getPageWidth(int position) &#123; return 1.f;&#125; è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯ æ¯ä¸ªPagerçš„å®½åº¦ ã€‚ç„¶è€Œï¼Œä»–çš„æ•ˆæœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æ¥çœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç çš„è¿è¡Œæ•ˆæœã€‚123override fun getPageWidth(position: Int): Float &#123; return 0.8f&#125; å®ƒçš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤æ¯ä¸ªpageréƒ½æ˜¯ å±€å·¦æ˜¾ç¤º çš„ã€‚ clipChildren ç¬¬äºŒç§å®ç°æ–¹å¼å°±æ˜¯é€šè¿‡æ§ä»¶çš„ clipChildren å±æ€§ï¼Œé»˜è®¤è¿™ä¸ªå±æ€§æ˜¯trueï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è®¾ç½®ä¸ºfalseï¼Œè¡¨ç¤ºè¶…å‡ºæ§ä»¶çš„å†…å®¹èŒƒå›´ä¹Ÿè¦æ˜¾ç¤ºå‡ºæ¥ã€‚12345678910111213141516171819202122&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" android:background="#bbbbbb" android:clipChildren="false" android:gravity="center" android:orientation="vertical" tools:context="com.yanfangxiong.multipagerdemo.MainActivity"&gt; &lt;android.support.v4.view.ViewPager android:id="@+id/viewPager" android:layout_width="match_parent" android:layout_height="180dp" android:layout_marginLeft="20dp" android:layout_marginRight="20dp" android:clipChildren="false" android:overScrollMode="never"/&gt;&lt;/LinearLayout&gt; è¿™é‡Œå°†ViewPagerå’ŒLinearLayoutçš„clipChildrenå±æ€§éƒ½è®¾ç½®ä¸ºäº†falseã€‚ç„¶ååœ¨javaä»£ç ä¸­åšå¦‚ä¸‹è®¾ç½®ã€‚123456//è®¾ç½®é¢„åŠ è½½çš„æ•°é‡æ˜¯3ï¼Œè¿™ä¸ªå€¼é»˜è®¤æ˜¯1viewPager.offscreenPageLimit = 3//pageMarginè®¾ç½®é¡µé¢ä¹‹é—´çš„è·ç¦»val metrics = DisplayMetrics()windowManager.defaultDisplay.getMetrics(metrics)viewPager.pageMargin = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 8f, metrics).toInt() æ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºã€‚ æ‰©å±• æ„Ÿè§‰å¥½åƒæœ‰ç‚¹å•è°ƒå“ˆã€‚æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆè§‰å¾—çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥åŠ ç‚¹æœ‰è¶£çš„ä¸œè¥¿å§ã€‚ViewPageræœ‰ä¸ªPageTransformeræ¥å£ã€‚1234567891011public interface PageTransformer &#123; /** * Apply a property transformation to the given page. * * @param page Apply the transformation to this page * @param position Position of page relative to the current front-and-center * position of the pager. 0 is front and center. 1 is one full * page position to the right, and -1 is one page position to the left. */ void transformPage(View page, float position);&#125; è¿™é‡Œæˆ‘å°±ä¸å†™ç ”ç©¶è¿‡ç¨‹äº†ï¼Œpositionçš„èŒƒå›´å¯ä»¥åˆ†ä¸ºå››æ®µ(é€šç”¨çš„)ï¼Œæ˜¯å½“å‰pageçš„å·¦ä¸Šè§’ç›¸å¯¹äºViewPagerçš„ä½ç½®ã€‚ position &lt; -1 -1 &lt;= position &lt; 0 0 &lt;= position &lt; 1 position &gt; 1 ScalePageTransformer äºæ˜¯ä¹æˆ‘å†™äº†ä¸€ä¸ªåˆ‡æ¢å°ºå¯¸å˜æ¢çš„ç±»ScalePageTransformerï¼Œå¦‚ä¸‹ã€‚123456789101112131415class ScalePageTransformer( private var minScale: Float) : ViewPager.PageTransformer &#123; override fun transformPage(page: View?, position: Float) &#123; val size = when &#123; position &lt; -1 -&gt; minScale position &gt;= -1 &amp;&amp; position &lt; 0 -&gt; minScale + (1 - minScale) * (1 + position) position &lt; 1 -&gt; minScale + (1 - minScale) * (1 - position) else -&gt; minScale &#125; page?.scaleY = size &#125;&#125; æ•ˆæœå›¾å¦‚ä¸‹ï¼Œè¿™æ ·å°±æ¯”è¾ƒæœ‰è¶£äº†ï¼Œå—¯ï¼Œæˆ‘æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ã€‚ RotatePageTransformer æ—‹è½¬è·³è·ƒï¼Œæˆ‘é—­ç€çœ¼~1234567891011121314151617181920212223242526272829303132333435class RotatePageTransformer( private var rotateDegree: Float) : ViewPager.PageTransformer &#123; override fun transformPage(page: View?, position: Float) &#123; if (page == null) return val tPivotX: Float val degree: Float when &#123; position &lt; -1 -&gt; &#123; tPivotX = page.width.toFloat() degree = -rotateDegree &#125; position &gt;= -1 &amp;&amp; position &lt; 0 -&gt; &#123; tPivotX = page.width.toFloat() degree = rotateDegree * position &#125; position &gt;= 0 &amp;&amp; position &lt; 1 -&gt; &#123; tPivotX = 0f degree = rotateDegree * position &#125; else -&gt; &#123; tPivotX = 0f degree = rotateDegree &#125; &#125; page.apply &#123; pivotX = tPivotX pivotY = if (rotateDegree &lt; 0) 0f else page.height.toFloat() rotation = degree &#125; &#125;&#125; æ¥çœ‹çœ‹è¿™ä¸ªæ—‹è½¬å˜æ¢çš„æ•ˆæœå›¾ã€‚ AlphaPageTransformer å†æ¥ä¸ªé€æ˜åº¦å˜åŒ–çš„å§ã€‚123456789101112131415class AlphaPageTransformer( private var minAlpha: Float) : ViewPager.PageTransformer &#123; override fun transformPage(page: View?, position: Float) &#123; val alpha: Float = when &#123; position &lt; -1 -&gt; minAlpha position &gt;= -1 &amp;&amp; position &lt; 0 -&gt; minAlpha + (1 - minAlpha) * (1 + position) position &gt;= 0 &amp;&amp; position &lt; 1 -&gt; minAlpha + (1 - minAlpha) * (1 - position) else -&gt; minAlpha &#125; page?.alpha = alpha &#125;&#125; æ•ˆæœå›¾å¦‚ä¸‹ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚]]></title>
    <url>%2F2018%2F02%2F28%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%2F</url>
    <content type="text"><![CDATA[å‰è¨€ ä¸ç®¡æ˜¯ç®€å•å·¥å‚è¿˜æ˜¯å·¥å‚æ–¹æ³•ï¼Œæ¯ä¸ªå·¥å‚éƒ½åªç”Ÿäº§ä¸€ç§äº§å“ï¼Œè€Œåœ¨ç°å®ç”Ÿæ´»ä¸­æ˜¯ä¼šå­˜åœ¨ä¸€ä¸ªå·¥å‚ç”Ÿäº§å¤šç§å•†å“çš„æƒ…å†µçš„ã€‚æ¯”å¦‚ç”µå™¨å·¥å‚ï¼Œä¼šç”Ÿäº§ç”µè§†æœºï¼Œç”µå†°ç®±ï¼Œç©ºè°ƒç­‰ã€‚ å·¥å‚æ–¹æ³• æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨å·¥å‚æ–¹æ³•æ¥å®ç°ä¸Šé¢çš„æ¡ˆä¾‹ã€‚ å®šä¹‰äº§å“ ç°åœ¨æœ‰ä¸¤ç§äº§å“ï¼Œå†°ç®±å’Œç©ºè°ƒï¼Œæœ‰ä¸¤ä¸ªå‚å•†(ç¾çš„å’Œæµ·å°”)éƒ½èƒ½å¤Ÿç”Ÿäº§è¿™ä¸¤ç§äº§å“ã€‚1234567891011121314151617interface IRefrigerator&#123;&#125;class HaierRefrigerator : IRefrigerator&#123;&#125;class MeidiRefrigerator : IRefrigerator&#123;&#125;interface IAirConditioner&#123;&#125;class HaierAirConditioner : IAirConditioner&#123;&#125;class MeidiAirConditioner : IAirConditioner&#123;&#125; å®šä¹‰å·¥å‚ å› ä¸ºæ¯ä¸ªå·¥å‚åªç”Ÿäº§å¯¹åº”çš„äº§å“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤ä¸ªå·¥å‚æ¥å£ã€‚1234567891011121314151617181920212223interface IRefrigeratorFactory&#123; fun generateRefrigeratorImpl() : IRefrigerator&#125;class HaierRefrigeratorFactory : IRefrigeratorFactory&#123; override fun generateRefrigeratorImpl() : IRefrigerator = HaierRefrigerator()&#125;class MeidiRefrigerator : IRefrigeratorFactory&#123; override fun generateRefrigeratorImpl() : IRefrigerator = MeidiRefrigerator()&#125;interface IAirConditionerFactory&#123; fun generateAirConditionerImpl() : AirConditioner&#125;class HaierAirConditionerFactory : IAirConditionerFactory&#123; override fun generateAirConditionerImpl() : AirConditioner = HaierAirConditioner()&#125;class MeidiAirConditionerFactory : IAirConditionerFactory&#123; override fun generateAirConditionerImpl(): AirConditioner = MeidiAirConditioner()&#125; ç”Ÿäº§äº§å“ æ¯”å¦‚ç°åœ¨è¦ç”Ÿäº§ç¾çš„çš„å†°ç®±å’Œç©ºè°ƒã€‚1234fun main(args : Array&lt;String&gt;)&#123; val refrigerator = MeidiRefrigeratorFactory().generateRefrigeratorImpl() val airConditioner = MeidiAirConditionerFactory().generateAirConditionerImpl()&#125; æ€è€ƒ å¦‚æœæœ‰Nä¸ªäº§å“éœ€è¦ç”Ÿäº§ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰©å±•Nä¸ªå·¥å‚ã€‚ä¸€æ—¦å·¥å‚çš„æ•°é‡å˜å¤šï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™å°±å¾ˆå®¹æ˜“é—æ¼æŸäº›äº§å“çš„ç”Ÿäº§ï¼Œè€Œä¸”ç±»çš„æ•°é‡ä¹Ÿä¼šå¤šå¾ˆå¤šï¼Œå¯¼è‡´ç»“æ„è¶Šæ¥è¶Šå¤æ‚ã€‚ æŠ½è±¡å·¥å‚ åƒç¾çš„å†°ç®±ï¼Œç¾çš„ç©ºè°ƒæ˜¯ç”±ç›¸åŒçš„å…¬å¸ç”Ÿäº§çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å½’ä¸ºä¸€ä¸ªäº§å“æ—ï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå·¥å‚ç”Ÿäº§ä¸€ä¸ªäº§å“æ—çš„äº§å“ã€‚ç°åœ¨æˆ‘ä»¬æ¥ç®€åŒ–ä¸Šé¢çš„ä»£ç ã€‚12345678910111213141516interface IFactory&#123; fun generateAirConditionerImpl() : IAirConditioner fun generateRefrigeratorImpl() : IRefrigerator&#125;class MeidiFactory : IFactory&#123; override fun generateAirConditionerImpl() : IAirConditioner = MeidiAirConditioner() override fun generateRefrigeratorImpl() : IRefrigerator = MeidiRefrigerator()&#125;class HaierFactory : IFactory&#123; override fun generateAirConditionerImpl() : IAirConditioner = HaierAirConditioner() override fun generateRefrigeratorImpl() : IRefrigerator = HaierRefrigerator()&#125; ç”Ÿäº§äº§å“ ç°åœ¨å·¥å‚å®šä¹‰å¥½äº†ï¼Œæˆ‘ä»¬æƒ³è¦ç”Ÿäº§ç¾çš„çš„äº§å“å°±å¯ä»¥ç›´æ¥é€šè¿‡ä¸€ä¸ªå·¥å‚ç”Ÿäº§äº†ã€‚12345fun main(args : Array&lt;String&gt;)&#123; val factory : IFactory = MeidiFactory() val airConditioner = factory.generateAirConditionerImpl() val refrigerator = factory.generateRefrigeratorImpl()&#125; å¦‚æœæŸä¸ªäº§å“æ—æ–°å¢åŠ äº†æŸä¸ªäº§å“ï¼Œåªéœ€è¦åœ¨æŠ½è±¡å·¥å‚ä¸­æ–°å¢åŠ ç”Ÿäº§è¯¥äº§å“çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±å‡å°‘äº†å·¥å‚æ–¹æ³•ä¼šå¯¼è‡´çš„ç»“æ„å¤æ‚æ€§ã€‚ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•]]></title>
    <url>%2F2018%2F02%2F27%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å‰è¨€ åœ¨è®¾è®¡æ¨¡å¼ï¼ç®€å•å·¥å‚æ–‡ç« ä¸­ä»‹ç»çš„ç®€å•å·¥å‚ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœåœ¨æ­¤åŸºç¡€ä¸Šæ–°å¢åŠ ä¸€ç§å›¾è¡¨çš„å±•ç¤ºï¼Œé‚£ä¹ˆå°±å¾—ä¿®æ”¹é™æ€å·¥å‚çš„generateChartImpl()æ–¹æ³•ã€‚è¿™æ— ç–‘è¿åäº†å¼€æ”¾å°é—­åŸåˆ™ã€‚ ä¿®æ”¹Factory äºæ˜¯åœ¨ç®€å•å·¥å‚çš„åŸºç¡€ä¸Šæˆ‘å®šä¹‰äº†ä¸€ä¸ªIChartFactoryçš„æ¥å£ï¼Œå¦‚ä¸‹ã€‚12345interface IChartFactory &#123; fun generateChartImpl(): IChart&#125; æ‹†åˆ†Factory ç„¶åå°†ç®€å•å·¥å‚çš„ChartFactoryæ‹†åˆ†æˆä¸‹é¢çš„ç±»ï¼Œå¦‚ä¸‹ã€‚1234567891011121314151617class PieChartFactory : IChartFactory &#123; override fun generateChartImpl(): IChart = PieChart()&#125;class BarChartFactory : IChartFactory &#123; override fun generateChartImpl(): IChart = BarChart()&#125;class LinearChartFactory : IChartFactory &#123; override fun generateChartImpl(): IChart = LinearChart()&#125; æµ‹è¯• ä½¿ç”¨èµ·æ¥åªéœ€è¦é€šè¿‡å¯¹åº”çš„Factoryåˆ›å»ºå¯¹åº”çš„IChartå¯¹è±¡å°±å¯ä»¥äº†ã€‚å¦‚ä¸‹1234fun main(args: Array&lt;String&gt;) &#123; val chartImpl = PieChartFactory().generateChartImpl() chartImpl.display()&#125; å¹¶ä¸”æˆ‘ä»¬è¿˜å‘ç°ï¼Œå¦‚æœéœ€è¦å¢åŠ ä¸€ç§å›¾è¡¨çš„æ˜¾ç¤ºåªéœ€è¦å¢åŠ IChartçš„å­ç±»å’Œå¯¹åº”çš„IChartFactoryçš„å­ç±»å°±å¯ä»¥äº†ï¼Œè€Œä¸éœ€è¦å»ä¿®æ”¹å·²æœ‰çš„ä»£ç ï¼Œè¿™æ ·å°±ä¸ä¼šè¿åå¼€é—­åŸåˆ™äº†ï¼Œè€Œä¸”å…·æœ‰ä¸€å®šçš„æ‰©å±•æ€§ã€‚ æ€»ç»“ ä»ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬çœ‹å‡ºï¼Œè™½ç„¶å·¥å‚æ–¹æ³•èƒ½å¤Ÿæœ‰å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¾è€Œæ˜“è§ï¼Œå®ƒä¼šå¯¼è‡´ç±»çš„æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œè¿™æ ·åè€Œä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œè¯·åˆ«å¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºäº¬ä¸œopen-api-sdkçš„é‚£äº›å‘]]></title>
    <url>%2F2018%2F02%2F27%2F%E5%85%B3%E4%BA%8E%E4%BA%AC%E4%B8%9Copen-api-sdk%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91%2F</url>
    <content type="text"><![CDATA[å‰è¨€ è¿‘æ¥æœ‰ä½æœ‹å‹è®©æˆ‘ç”¨javaæµ‹è¯•ä¸‹äº¬ä¸œçš„open-api-sdkçš„è°ƒç”¨ï¼Œå¯¹æ­¤è®°å½•ä¸‹åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°çš„é‚£äº›å‘ã€‚ ClassNotFound äºæ˜¯ä¹æˆ‘å°†sdkä¸‹è½½ä¸‹æ¥é›†æˆåˆ°é¡¹ç›®ä¸­ï¼Œç„¶åæŒ‰ç…§æ–‡æ¡£ä¸Šçš„å†…å®¹ç¼–å†™äº†ä¸‹é¢çš„ä»£ç ã€‚12345678910111213141516171819202122WareWriteUpdateWareRequest request = new WareWriteUpdateWareRequest();Ware ware = new Ware();ware.setWareId(/*wareId*/);ware.setTitle(/*title*/);ware.setTransportId(/*transportId*/);request.setWare(ware);JdClient client = new DefaultJdClient( "serverUrl", "accessToken", "appKey", "appSecret");try &#123; WareWriteUpdateWareResponse execute = client.execute(request); if (execute.getSuccess()) &#123; System.out.println("è¯·æ±‚æˆåŠŸ:" + execute.getMsg()); &#125; else &#123; System.out.println("è¯·æ±‚å¤±è´¥:" + execute.getMsg()); &#125;&#125; catch (JdException e) &#123; e.printStackTrace();&#125; ä¼¼ä¹æ˜¯æ²¡æœ‰æ¯›ç—…çš„ï¼Œç„¶åæˆ‘è¿è¡Œäº†ä»£ç ï¼Œå¾—åˆ°äº†ä¸‹é¢çš„ç»“æœï¼ä½ æ²¡æœ‰çœ‹é”™ï¼Œwtfï¼Œæ‰¾ä¸åˆ°ç±»ï¼Œä»€ä¹ˆé¬¼å“¦ã€‚ NoSuchMethod ç„¶åæœ‹å‹ç»™æˆ‘å‘äº†ä¸€ç¯‡åšå®¢ï¼ŒæŒ‰ç…§é‡Œé¢çš„é…ç½®ï¼Œæˆ‘ä¿®æ”¹äº†é¡¹ç›®é…ç½®ä¸ºmavené¡¹ç›®ï¼Œç„¶åæ·»åŠ äº†å¦‚ä¸‹çš„ä¾èµ–ã€‚1234567891011&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt; &lt;version&gt;1.8.11&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.8.11&lt;/version&gt;&lt;/dependency&gt; æœ¬ä»¥ä¸ºè¿™æ ·å°±æ²¡æœ‰é—®é¢˜äº†ã€‚ä½†æ˜¯äº‹ä¸å¦‚å·±æ„¿ï¼Œå“ˆå“ˆï¼Œåˆå‡ºç°äº†ä¸‹é¢çš„é—®é¢˜ã€‚ è§£å†³ çœ‹åˆ°è¿™ä¸ªå¼‚å¸¸æˆ‘çš„ç¬¬ä¸€ååº”å°±æ˜¯open-api-sdkä¸­è°ƒç”¨çš„jaråŒ…çš„ç‰ˆæœ¬ä¸€å®šæ¯”æˆ‘é…ç½®çš„è¦é«˜ï¼Œäºæ˜¯æˆ‘åœ¨mavenrepositoryé‡Œé¢æœç´¢äº†æœ€æ–°çš„jackson-core-aslå’Œjackson-mapper-aslçš„jaræœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä¿®æ”¹äº†pom.xmlä¸­çš„versionä¿¡æ¯ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š1234567891011&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt; &lt;version&gt;1.9.13&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt; &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt; &lt;version&gt;1.9.13&lt;/version&gt;&lt;/dependency&gt; ç„¶åï¼Œæˆ‘å†æ¬¡è¿è¡Œäº†ä»£ç ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“æœã€‚ åæ§½ è¯´å®è¯ï¼Œç¬¬ä¸€æ¬¡è§åˆ°sdké‡Œé¢ä½¿ç”¨äº†ä¸‰æ–¹çš„jarï¼Œä½†æ˜¯åˆä¸åœ¨æ–‡æ¡£é‡Œé¢è¯´æ˜çš„ï¼Œä¹Ÿæ˜¯æœæ°”~ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›ï½]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>ç‚¹æ»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼-ç®€å•å·¥å‚]]></title>
    <url>%2F2018%2F02%2F26%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%2F</url>
    <content type="text"><![CDATA[å‰è¨€ ä¹‹å‰å†™ä»£ç ä»æ¥éƒ½æ²¡æœ‰æ³¨é‡è®¾è®¡æ¨¡å¼è¿™ä¸€å—ï¼Œç†ŸçŸ¥çš„å¹¶ä¸”ç”¨çš„æœ€å¤šçš„å°±æ˜¯å•ä¾‹æ¨¡å¼ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œç°åœ¨é¡¹ç›®è¶Šæ¥è¶Šåºå¤§ï¼Œæ¯æ¬¡è¿­ä»£éƒ½è¦æ”¹ä¸€å †ä¸œè¥¿ï¼Œå°è±¡ä¸­é‡å¤çš„ä»£ç ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œæœ‰æ—¶å€™è¿­ä»£ä¸€ä¸ªç‰ˆæœ¬è¦æ”¹Nå¤šä¸ªåœ°æ–¹çš„ç›¸åŒä»£ç ï¼Œå¦‚æœå“ªä¸ªåœ°æ–¹å¿˜äº†å°±å¾ˆè›‹ç–¼ï¼Œä½†æ˜¯è®©æˆ‘å»é‡æ„åˆä¸çŸ¥é“ä»ä½•å¤„ä¸‹æ‰‹ï¼Œæœ€è¿‘æ‰“ç®—å°†è®¾è®¡æ¨¡å¼çš„ä¸œè¥¿ç³»ç»Ÿçš„å­¦ä¹ ä¸€ä¸‹ï¼Œç„¶åå°†è‡ªå·±å†™çš„ä»£ç å¥½å¥½çš„æ¢³ç†ä¸€ä¸‹ã€‚ ä¸¾ä¸ªæ —å­ ç°åœ¨äº§å“ç»ç†éœ€è¦ä¸€ä¸ªå›¾è¡¨å±•ç¤ºçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æŠ˜çº¿å›¾ï¼Œé¥¼å›¾å’ŒæŸ±çŠ¶å›¾ç­‰ã€‚äºæ˜¯æˆ‘å†™äº†ä¸€ä¸ªIChartçš„æ¥å£ï¼Œåªæœ‰ä¸€ä¸ªdisplay()æ–¹æ³•ã€‚12345interface IChart &#123; fun display() &#125; ç„¶åç¼–å†™äº†å‡ ä¸ªIChartçš„å­ç±»ï¼Œå¦‚ä¸‹ã€‚1234567891011121314151617181920212223class PieChart : IChart &#123; override fun display() &#123; println("æ˜¾ç¤ºé¥¼çŠ¶å›¾") &#125;&#125;class BarChart : IChart &#123; override fun display() &#123; println("æ˜¾ç¤ºæŸ±çŠ¶å›¾") &#125;&#125;class LinearChart : IChart &#123; override fun display() &#123; println("æ˜¾ç¤ºæŠ˜çº¿å›¾") &#125;&#125; å°±è¿™æ ·å†™å¥½äº†å›¾è¡¨çš„ç›¸å…³ç±»ã€‚ç„¶åå°±æ˜¯å¦‚ä½•æ ¹æ®ä¸åŒçš„ç±»å‹äº§ç”Ÿä¸åŒçš„ç±»çš„å¯¹è±¡ã€‚1234567891011class ChartFactory &#123; fun generateChartImpl(type: String): IChart &#123; return when (type) &#123; "bar" -&gt; BarChart() "linear" -&gt; LinearChart() else -&gt; PieChart() &#125; &#125;&#125; æœ€åæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚1234fun main(args: Array&lt;String&gt;) &#123; val chartImpl = ChartFactory.generateChartImpl("linear") chartImpl.display()&#125; è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™å°±æ˜¯ç®€å•çš„å·¥å‚æ¨¡å¼ã€‚ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œè¯·åˆ«å¤±æœ›ï½]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macæ’å…¥Uç›˜çš„åªè¯»é—®é¢˜]]></title>
    <url>%2F2018%2F02%2F21%2Fmac%E6%8F%92%E5%85%A5U%E7%9B%98%E7%9A%84%E5%8F%AA%E8%AF%BB%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æœ€è¿‘å¸®æˆ‘èˆ…èˆ…é‡è£…ç³»ç»Ÿï¼Œå› ä¸ºè¦å°†æˆ‘ç”µè„‘ä¸Šçš„ç³»ç»Ÿé•œåƒå¤åˆ¶åˆ°Uç›˜ä¸­ï¼Œ ç„¶åå‘ç°æˆ‘åªèƒ½è¯»å–Uç›˜é‡Œé¢çš„æ–‡ä»¶ï¼Œè€Œä¸èƒ½è¿›è¡Œå†™å…¥æ“ä½œã€‚ Uç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆä½ å¾—äº†è§£Uç›˜çš„æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ã€‚äºæ˜¯æˆ‘å°†Uç›˜æ’åœ¨windowsç”µè„‘ä¸Šè¿›è¡Œæ ¼å¼åŒ–çš„æ—¶å€™ï¼Œå‘ç°æ ¼å¼åŒ–çš„ç§ç±»æœ‰3ç§ï¼ŒNTFS ï¼Œ FAT32 ï¼Œ exFAT ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹è¿™å‡ ç§æ ¼å¼çš„åŒºåˆ«ã€‚ è¿™é‡Œæ¨èä¸€æ¬¾å…è´¹çš„è½¯ä»¶ Mounty11 ã€‚å®ƒæ”¯æŒåœ¨macè¯»å†™NTFSæ–‡ä»¶ç³»ç»Ÿæ ¼å¼çš„Uç›˜ã€‚ NTFS å®ƒå…¨ç§°New Technology File System(æ–°æŠ€æœ¯æ–‡ä»¶ç³»ç»Ÿ)ã€‚æ”¯æŒLZ77å‹ç¼©ã€æ–‡ä»¶çº§åŠ å¯†ã€è®¿é—®æ§åˆ¶ã€‚ä¸»æ–‡ä»¶è¡¨(MFT)è´Ÿè´£å­˜å‚¨ç¨³å¥çš„å±æ€§ã€ä½ç½®ã€è®¿é—®ä¿¡æ¯ã€‚è¿™ç§æ ¼å¼åœ¨macå¦‚æœä¸ä½¿ç”¨å·¥å…·æ˜¯æ— æ³•å†™å…¥æ–‡ä»¶çš„ï¼Œå½“ç„¶å®ƒè¿˜æœ‰ä¸€äº›å¼Šç«¯ï¼Œæ¯”å¦‚æœ€å¤§åˆ†åŒºï¼Œæœ€å¤§æ–‡ä»¶åªæ”¯æŒ2TBï¼Œï¼ˆæ—¥å¸¸å¤Ÿç”¨äº†ï¼‰å…¼å®¹èŒƒå›´ä¸å¦‚FAT32ï¼Œé•¿æ—¶é—´ä½¿ç”¨ä¼šå½±å“Uç›˜å¯¿å‘½ã€‚æ‰€ä»¥è¿™ç§æ–‡ä»¶ç³»ç»Ÿæ ¼å¼è‚¯å®šä¸æ˜¯æˆ‘ä»¬è¦çš„ã€‚ FAT32 å®ƒæ˜¯1997å¹´çš„Windows 95 OSR2ï¼Œåœ¨ç¬¬äºŒç‰ˆç³»ç»Ÿä¸­é¦–æ¬¡å¼•å…¥çš„æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ã€‚ å®ƒæœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ï¼Œå‡ ä¹æ‰€æœ‰ä¸»æµç³»ç»Ÿéƒ½èƒ½å¯¹å…¶æ ¼å¼å†™å…¥è¯»å– ã€‚æ—¢ç„¶æœ‰è¿™ä¹ˆå¥½çš„å…¼å®¹æ€§ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å°±ç›´æ¥å°†Uç›˜æ ¼å¼åŒ–ä¸ºFAT32å°±å¯ä»¥äº†ã€‚å½“ç„¶ä¸æ˜¯ï¼Œè¿™ç§æ–‡ä»¶ç³»ç»Ÿè™½ç„¶æœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ï¼Œå´æœ‰å¾ˆå¤šçš„å¼Šç«¯ã€‚ è¿™ç§æ–‡ä»¶æ ¼å¼å®‰å…¨æ— ä¿éšœï¼Œå¯¹äºå•ä¸ªçš„æ–‡ä»¶ç§»åŠ¨ï¼Œä½“ç§¯ä¸èƒ½è¶…è¿‡4Gï¼Œå¹¶ä¸”æ–‡ä»¶åç§°é•¿åº¦ä¸èƒ½è¶…è¿‡255ä¸ªå­—èŠ‚ ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ exFAT å¾®è½¯ä¸“é—¨ä¸ºé—ªå­˜è®¾å¤‡è®¾è®¡çš„æ–‡ä»¶ç³»ç»Ÿï¼Œé«˜å®¹é‡çš„SDXCå¡é»˜è®¤éƒ½æ˜¯è¿™ç§æ ¼å¼ã€‚æ–‡ä»¶åæœ€é«˜å¯è¾¾65536ä¸ªï¼Œåˆ†åŒºå’Œå•ä¸ªæ–‡ä»¶æ”¯æŒæœ€å¤§å¯è¾¾åˆ°16EBï¼Œå†™è¯»å–é€Ÿåº¦ç¨³å®šã€‚æœ€ä¸»è¦çš„æ˜¯å®ƒåœ¨macå’Œwindowsä¹‹é—´éƒ½å¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œã€‚ è§£å†³ æœ€ç»ˆæˆ‘å¹¶æ²¡æœ‰é€‰æ‹©ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·åœ¨macè¿›è¡Œè¯»å†™NTFSçš„Uç›˜ï¼Œè€Œæ˜¯å°†Uç›˜æ ¼å¼åŒ–ä¸ºexFATçš„æ ¼å¼ï¼Œç„¶åå†å°†æ–‡ä»¶æ‹–æ”¾åˆ°Uç›˜ä¸­ï¼Œå†åˆ¶ä½œå¯åŠ¨ç›˜ã€‚ æ€»ç»“ å¦‚æœåªæ˜¯ç®€å•çš„æ‹–æ”¾å°æ–‡ä»¶ï¼Œä½ å®Œå…¨å¯ä»¥é€‰æ‹©ä½¿ç”¨FAT32æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œå¦‚æœéœ€è¦æ‹–æ”¾å¤§æ–‡ä»¶åˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨NTFSæˆ–è€…exFATï¼Œå½“ç„¶ä¸å»ºè®®ä½¿ç”¨NTFSï¼Œå› ä¸ºå®ƒå¯¹Uç›˜çš„ä½¿ç”¨å¯¿å‘½æœ‰å½±å“ã€‚ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œè¯·åˆ«å¤±æœ›~ ç¥å¤§å®¶æ–°å¹´å¿«ä¹]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>ç‚¹æ»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºè¿…é›·ä¸‹è½½BTå‡ºç°çš„ç‰ˆæƒæ–¹é—®é¢˜]]></title>
    <url>%2F2018%2F02%2F13%2F%E5%85%B3%E4%BA%8E%E8%BF%85%E9%9B%B7%E4%B8%8B%E8%BD%BDBT%E5%87%BA%E7%8E%B0%E7%9A%84%E7%89%88%E6%9D%83%E6%96%B9%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å‰è¨€ 2æœˆ11å·çš„åŠ¨è½¦ä»æ­å·å›å®¶ï¼Œäºæ˜¯æˆ‘ä¸ºäº†æ‰“å‘åœ¨è½¦ä¸Šçš„5ä¸ªå¤šå°æ—¶æ—¶é—´ï¼Œ2æœˆ10å·çš„æ™šä¸Šå‡†å¤‡ä¸‹è½½ä¸€äº›ç”µå½±åœ¨åŠ¨è½¦ä¸Šçœ‹ã€‚å½“ç„¶æ˜¯ä»¥å‰çœ‹è¿‡äº†çš„ç”µå½±ï¼Œå“ˆå“ˆã€‚äºæ˜¯åœ¨googleä¸Šæœç´¢äº†é€Ÿåº¦ä¸æ¿€æƒ…8å’Œæœºå™¨ä¹‹è¡€çš„BTæ–‡ä»¶ï¼Œæ­£å½“æˆ‘å‡†å¤‡é€šè¿‡è¿…é›·ä¸‹è½½è¿™äº›æ–‡ä»¶çš„æ—¶å€™ï¼Œå‘ç°ä»»åŠ¡çš„å³ä¸‹è§’æ˜¾ç¤º åº”ç‰ˆæƒæ–¹è¦æ±‚ï¼Œè¯¥èµ„æºæ— æ³•ä¸‹è½½ ã€‚ WTFï¼ï¼ï¼ åŸå›  è¿™ä¸ªåŸå› æ˜¯ç‰ˆæƒæ–¹å’Œè¿…é›·äº¤æ¶‰åï¼Œè¿…é›·é€šè¿‡æŠ€æœ¯é˜»æ­¢äº†æ–‡ä»¶çš„ä¸‹è½½ã€‚çœ‹åˆ°è¿™é‡Œå¿ä¸ä½çˆ†äº†ä¸€å¥ç²—å£ï¼Œmmpã€‚ è§£å†³æ–¹æ¡ˆ ä½œä¸ºä¸€ä¸ªç¨‹åºçŒ¿æ€ä¹ˆèƒ½å¤Ÿè¢«è¿™ç§é—®é¢˜å½±å“è€Œä¸çœ‹ç”µå½±ï¼Œæ˜¯å§ã€‚äºæ˜¯æˆ‘ä¸Šgoogleæœç´¢äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•ã€‚ å‡†å¤‡å·¥ä½œ é¦–å…ˆä½ å¾—æœ‰ä¸€ä¸ª ç™¾åº¦ç½‘ç›˜è´¦å· ï¼Œå› ä¸ºæ¥ä¸‹æ¥æˆ‘ä»¬å‡†å¤‡é€šè¿‡ç™¾åº¦ç½‘ç›˜æ¥è¿›è¡Œä¸‹è½½è¿™äº›æ–‡ä»¶ã€‚ è·å–BTæ–‡ä»¶çš„ä¸‹è½½åœ°å€ è·å–è¿™ä¸ªåœ°å€çš„æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä½ åªéœ€è¦åœ¨è¿…é›·çš„ä¸‹è½½ä»»åŠ¡åˆ—è¡¨é€‰æ‹©ä¸€ä¸ªæ— æ³•ä¸‹è½½çš„æ–‡ä»¶ï¼Œç„¶åå³é”® å¤åˆ¶æ–‡ä»¶ä¸‹è½½é“¾æ¥ å°±å¯ä»¥äº†ã€‚ å»ºç«‹ç¦»çº¿ä¸‹è½½ä»»åŠ¡ ç„¶åï¼Œä½ å°±å¯ä»¥ç™»å½•ç™¾åº¦ç½‘ç›˜ï¼Œæ–°å»ºç¦»çº¿ä¸‹è½½ä»»åŠ¡ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ç„¶åé€‰æ‹©æ–°å»ºé“¾æ¥ä»»åŠ¡ï¼Œå°†åœ¨è¿…é›·ä¸Šå¤åˆ¶çš„é“¾æ¥ç²˜è´´ä¸Šå»ï¼Œå»ºç«‹ä»»åŠ¡å°±å¯ä»¥äº†ã€‚ é€šè¿‡ç™¾åº¦äº‘ç›˜appè¿›è¡Œæ–‡ä»¶ä¸‹è½½ æœ€åä½ åªéœ€è¦é€šè¿‡ç™¾åº¦äº‘ç›˜çš„appè¿›è¡Œæ–‡ä»¶ä¸‹è½½å°±å¯ä»¥äº†ã€‚ æ¯’é¸¡æ±¤ æ—¥å­è¿˜é•¿ï¼Œè¯·åˆ«å¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>ç‚¹æ»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[android support annotation]]></title>
    <url>%2F2018%2F01%2F30%2Fandroid-support-annotation%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Architecture Components]]></title>
    <url>%2F2018%2F01%2F30%2FAndroid-Architecture-Components%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å½“Kotliné‡ä¸ŠParcelable]]></title>
    <url>%2F2018%2F01%2F24%2F%E5%BD%93Kotlin%E9%81%87%E4%B8%8AParcelable%2F</url>
    <content type="text"><![CDATA[ç”±æ¥ å› ä¸ºç°åœ¨é¡¹ç›®é‡Œé¢éƒ½æ˜¯ç”¨ kotlin åœ¨ç¼–å†™é¡¹ç›®ï¼Œåœ¨è·¨ç•Œé¢ä¼ é€’æ•°æ®çš„æ—¶å€™ç»å¸¸éœ€è¦ä¼ é€’å¯¹è±¡æ•°æ®ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨åˆ° å¯¹è±¡çš„åºåˆ—åŒ– ï¼Œå°±éš¾å…å’Œ Parcelable æ‰“äº¤é“ã€‚ åºåˆ—åŒ–çš„æ–¹å¼ åœ¨Androidä¸­ï¼Œå¯¹è±¡çš„åºåˆ—åŒ–æ–¹å¼æ˜¯æœ‰ä¸¤ç§çš„ï¼Œä¸€ç§æ˜¯Javaä¸­çš„ Serializable ï¼Œä¸€ç§æ˜¯Androidç‰¹æœ‰çš„ Parcelable ã€‚æ—¢ç„¶Googleæ–°å¢åŠ äº†ä¸€ç§ Parcelable çš„æ–¹å¼ï¼Œé‚£å¿…ç„¶æœ‰å®ƒçš„é“ç†ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸¤è€…æœ‰å•¥ä¸å¯å‘Šäººçš„ç§˜å¯†ã€‚ Serializableçš„åºåˆ—åŒ–æ–¹å¼ è¿™ç§åºåˆ—åŒ–æ–¹å¼ç»™æˆ‘ä»¬çš„ç¬¬ä¸€å°è±¡å°±æ˜¯ ç®€æ´ ã€‚å› ä¸ºä½ åªéœ€è¦å®ç° Serializable æ¥å£å°±å¯ä»¥äº†ã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡è¯†æ¥å£ï¼Œä½ ä¸éœ€è¦å®ç°ä»»ä½•æ–¹æ³•ï¼ŒJavaå°±ä¼šå¯¹å…¶è¿›è¡Œåºåˆ—åŒ–æ“ä½œã€‚ä½†ä½†ä½†æ˜¯ï¼Œè¿™ç§åºåˆ—åŒ–çš„æ–¹å¼ä½¿ç”¨äº† åå°„ï¼Œè€Œä¸”åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­äº§ç”Ÿå¾ˆå¤šçš„ä¸´æ—¶å¯¹è±¡ï¼Œé€ æˆè¿‡å¤šçš„å†…å­˜æ¶ˆè€— ã€‚1234567891011package com.yanfangxiong.kotlinparcelabledemoimport java.io.Serializable/** * @author fxYan */data class Person( var name: String?, var sex: String?) : Serializable Parcelableçš„åºåˆ—åŒ–æ–¹å¼ è¿™ç§åºåˆ—åŒ–æ–¹å¼æ˜¯Androidæ‰€ç‰¹æœ‰çš„ã€‚è€Œä¸”ä½¿ç”¨èµ·æ¥ æ¯”è¾ƒå¤æ‚ ï¼Œæˆ‘ä»¬å…ˆæ¥ä¸¾ä¸ªæ —å­ã€‚12345678910111213141516171819202122232425262728293031323334353637package com.yanfangxiong.kotlinparcelabledemoimport android.os.Parcelimport android.os.Parcelable/** * @author fxYan */data class Person( var name: String?, var sex: String?) : Parcelable &#123; companion object CREATOR : Parcelable.Creator&lt;Person&gt; &#123; override fun createFromParcel(parcel: Parcel): Person &#123; return Person(parcel) &#125; override fun newArray(size: Int): Array&lt;Person?&gt; &#123; return arrayOfNulls(size) &#125; &#125; constructor(parcel: Parcel) : this( parcel.readString(), parcel.readString()) override fun writeToParcel(parcel: Parcel, flags: Int) &#123; parcel.writeString(name) parcel.writeString(sex) &#125; override fun describeContents(): Int &#123; return 0 &#125;&#125; è¯¦è§£Parcelable writeToParcel() é€šè¿‡è¿™ä¸ªæ–¹æ³•ä½ å¯ä»¥å°†å¯¹è±¡çš„å±æ€§éƒ½å†™å…¥åˆ°parcelä¸­ï¼› describeContents() è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬æƒ…å†µä¸‹é»˜è®¤å°±å¥½äº†ã€‚å…³äºè¿™ä¸ªæ–¹æ³•ï¼ŒAPIä¸­æ˜¯è¿™ä¹ˆæè¿°çš„ï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªParcelableå¯¹è±¡åºåˆ—åŒ–å†…å®¹çš„ç±»åˆ«ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¦‚æœä½ è¦åºåˆ—åŒ–å¯¹è±¡é‡Œé¢åŒ…å«æ–‡ä»¶æè¿°ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦å°†è¿™ä¸ªæ–¹æ³•ä¿®æ”¹ä¸ºè¿”å› CONTENTS_FILE_DESCRIPTOR ï¼› ç¼–å†™ä¸€ä¸ªç±»CREATORç»§æ‰¿è‡ª Parcelable.Cretor ï¼Œè¿™ä¸ªæ¥å£åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼ŒcreateFromParcel()ä»Parcelå®¹å™¨ä¸­å€¼ï¼ŒnewArray()è¿™ä¸ªæ–¹æ³•æ˜¯ ä¾›å¤–éƒ¨ç±»ååºåˆ—åŒ–æœ¬ç±»æ•°ç»„ä½¿ç”¨çš„ ã€‚ ä»ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å°±å¯ä»¥çœ‹å‡ºï¼Œå¦‚ä½•åºåˆ—åŒ–è¿™ä¸ªå¯¹è±¡å·²ç»éå¸¸æ¸…æ¥šçš„è¡¨ç°å‡ºæ¥ï¼Œæ ¹æœ¬ä¸éœ€è¦é€šè¿‡åå°„æ¥çŸ¥é“æ¥æ¨æ–­ç±»å‹ï¼Œæ‰€ä»¥èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆçš„åºåˆ—åŒ–å¯¹è±¡ã€‚ åŒºåˆ«ä¸æŠ‰æ‹© Serializableå®ç°æ–¹å¼ç®€å•ï¼Œä½†æ˜¯æ¯”è¾ƒæ¶ˆè€—å†…å­˜ï¼Œä¸€èˆ¬å»ºè®®åœ¨åºåˆ—åŒ–å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶ä¸­çš„æ—¶å€™ä½¿ç”¨ï¼› Parcelableå®ç°æ–¹å¼è¾ƒä¸ºå¤æ‚ï¼Œä½†æ˜¯æ•ˆç‡é«˜ï¼Œæ¶ˆè€—å†…å­˜å°ï¼Œåœ¨ä»£ç ä¸­å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ é—®é¢˜æ‰€åœ¨ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨kotlinä¸­ä¼´ç”Ÿå¯¹è±¡åªèƒ½å­˜åœ¨ä¸€ä¸ª ï¼Œä¸€èˆ¬ä¸€äº›åœ¨javaä¸­çš„é™æ€å¸¸é‡æˆ‘ä»¬å¯èƒ½ä¼šå®šä¹‰åœ¨ä¼´ç”Ÿå¯¹è±¡ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹ä¸Šé¢çš„Personçš„Parcelableå®ç°ï¼Œç³»ç»Ÿé»˜è®¤ç»™æˆ‘ä»¬åˆ›å»ºçš„CREATORå¯¹è±¡å°±ç›´æ¥æŒ‡å®šä¸ºäº†ä¼´ç”Ÿå¯¹è±¡ï¼Œè¿™æ ·è™½ç„¶æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ä½ å®šä¹‰çš„ä¸€äº›å¸¸é‡å°±æ˜¯å±äºCREATORå¯¹è±¡äº†ï¼Œå®é™…ä¸Šè¿™æ˜¯ä¸å¿…è¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼å°†ä¼´ç”Ÿå¯¹è±¡ â€œé‡Šæ”¾â€ å‡ºæ¥ã€‚ è¿™é‡Œæˆ‘ä»¬å°±ç›´æ¥ä¸Šä»£ç äº†ã€‚åªéœ€è¦ä½¿ç”¨ ï¼ JVMField æ³¨è§£å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚12345678910111213141516companion object &#123; @JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; &#123; override fun createFromParcel(parcel: Parcel): Person &#123; return Person(parcel) &#125; override fun newArray(size: Int): Array&lt;Person?&gt; &#123; return arrayOfNulls(size) &#125; &#125;&#125; ä½†ä½†ä½†æ˜¯ï¼Œå‰é¢è¯´äº†ï¼Œä½¿ç”¨Parcelableçš„åºåˆ—åŒ–æ–¹å¼ï¼Œç±»é‡Œé¢çš„æ–¹æ³•ä¼šå¢åŠ å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“ç®—æ¥ä¼˜åŒ–ä¼˜åŒ–ã€‚ é¦–å…ˆï¼Œkotlinåƒjava 8ä¸€æ ·ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤çš„å®ç° ï¼Œäºæ˜¯æˆ‘å†³å®šå†™ä¸€ä¸ªKParcelableçš„æ¥å£ï¼Œå¦‚ä¸‹12345interface KParcelable : Parcelable &#123; override fun describeContents() = 0 override fun writeToParcel(dest: Parcel, flags: Int)&#125; è¿™æ ·å°±å‡å°‘äº†å¯¹è±¡ä¸­çš„ describeContents æ–¹æ³•çš„å®ç°ã€‚ç„¶åæˆ‘ä»¬å†æ¥ä¼˜åŒ–CREATORçš„å®ç°æ–¹å¼ã€‚å¯¹æ­¤æˆ‘å†™äº†ä¸‹é¢çš„å‡½æ•°123456inline fun &lt;reified T&gt; parcelableCreator(crossinline creator: (Parcel) -&gt; T) = object : Parcelable.Creator&lt;T&gt; &#123; override fun createFromParcel(source: Parcel): T = creator(source) override fun newArray(size: Int): Array&lt;T?&gt; = arrayOfNulls(size) &#125; å®ƒæ¥å—ä¸€ä¸ªåä¸º creator çš„æ–¹æ³•ï¼Œç„¶åè¿”å›ä¸€ä¸ª Parcelable.Creator çš„å®ç°ç±»ï¼Œè¿™æ ·æˆ‘çš„Personç±»å°±å¯ä»¥ç®€åŒ–ä¸ºå¦‚ä¸‹çš„æ–¹å¼ã€‚12345678910111213141516171819202122data class Person( var name: String?, var sex: String?) : KParcelable &#123; companion object &#123; @JvmField val CREATOR: Parcelable.Creator&lt;Person&gt; = parcelableCreator(::Person) &#125; constructor(parcel: Parcel) : this( parcel.readString(), parcel.readString()) override fun writeToParcel(dest: Parcel, flags: Int) = with(dest) &#123; writeString(name) writeString(sex) &#125;&#125; è¿™æ ·çœ‹ç€å°±èˆ’æœå¤šäº†ï¼Œå“ˆå“ˆå“ˆã€‚ æ¯’é¸¡æ±¤ ç”Ÿæ´»ä¸å¦‚æ„æ—¶æ˜¯ä¸Šå¸ç»™ä½ æ”¾çš„é•¿å‡ï½]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ‰è¶£çš„kotlinå°è£…Recycleré€‚é…å™¨]]></title>
    <url>%2F2018%2F01%2F23%2F%E6%9C%89%E8%B6%A3%E7%9A%84kotlin%E5%B0%81%E8%A3%85Recycler%E9%80%82%E9%85%8D%E5%99%A8%2F</url>
    <content type="text"><![CDATA[å‰è¨€ å‰æ®µæ—¶é—´å°±è¯´è¦ç”¨kotlinå†™RecyclerViewçš„é€‚é…å™¨ï¼Œä½†ä¸€ç›´åœ¨å¿™äºé¡¹ç›®çš„è¿­ä»£ï¼Œæ‰€ä»¥å°±æ²¡æŠ½å‡ºæ—¶é—´æ¥è½åœ°ã€‚å…¶å®ä¹Ÿä¸ç®—å°è£…ï¼Œåªæ˜¯ç®€åŒ–äº†å¼€å‘çš„è¿‡ç¨‹è€Œå·²ã€‚ ç›´å¥”ä¸»é¢˜ è¿™é‡Œæˆ‘å°±ä¸åºŸè¯äº†ï¼Œç›´æ¥ä¸Šä»£ç å§ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * @author fxYan */abstract class CommonRecyclerAdapter&lt;T&gt;( val context: Context, @LayoutRes val resId: Int, val data: List&lt;T&gt;) : RecyclerView.Adapter&lt;CommonRecyclerAdapter.ViewHolder&gt;() &#123; private var onItemClickListener: OnItemClickListener&lt;T&gt;? = null fun setOnItemClickListener(listener: OnItemClickListener&lt;T&gt;) &#123; onItemClickListener = listener &#125; fun setOnItemClickListener(action: (Int, T) -&gt; Unit) &#123; onItemClickListener = object : CommonRecyclerAdapter.OnItemClickListener&lt;T&gt; &#123; override fun onItemClick(position: Int, data: T) &#123; action(position, data) &#125; &#125; &#125; override fun onBindViewHolder(holder: ViewHolder, position: Int) &#123; onItemClickListener?.apply &#123; holder.itemView.setOnClickListener &#123; onItemClick(position, data[position]) &#125; &#125; bindData(holder.itemView, position, data[position]) &#125; override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder = ViewHolder(LayoutInflater.from(context).inflate(resId, parent, false)) override fun getItemCount(): Int = data.size abstract fun bindData(view: View, position: Int, data: T) class ViewHolder(view: View) : RecyclerView.ViewHolder(view) interface OnItemClickListener&lt;in T&gt; &#123; fun onItemClick(position: Int, data: T) &#125;&#125; LayoutResæ˜¯ä»€ä¹ˆ è¿™ä¸ªæ³¨è§£æ˜¯ android support annotation åº“ä¸­çš„ä¸€ä¸ªæ³¨è§£ï¼Œè¡¨ç¤ºè¿™é‡ŒresIdæ˜¯ä¸€ä¸ªå¸ƒå±€æ–‡ä»¶çš„idï¼Œå¦‚æœä½ åœ¨è°ƒç”¨çš„æ—¶å€™ä¸æ˜¯ä¼ é€’çš„å¸ƒå±€æ–‡ä»¶çš„idï¼Œç¼–è¯‘çš„æ—¶å€™å°±å¯ä»¥æ£€æµ‹å‡ºæ¥ï¼Œå¾ˆæ–¹ä¾¿ï¼Œæœ‰æ—¶é—´ä¼šå†™ä¸€ç¯‡å…³äº android support annotation çš„æ–‡ç« ã€‚ ä½¿ç”¨ ä½¿ç”¨èµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦å®ç°bindData()æ–¹æ³•å°±å¯ä»¥äº†ã€‚1234567891011121314151617/** * @author fxYan */class CreditExtensionRecordListAdapter( context: Context, resId: Int, data: List&lt;OrderListRespBean&gt;) : CommonRecyclerAdapter&lt;OrderListRespBean&gt;(context, resId, data) &#123; override fun bindData(view: View, position: Int, data: OrderListRespBean) &#123; view.orderTimeTv.text = data.gmtCreate view.prodPicIv.setImageURI(Uri.parse(data.prodPic ?: ""), null) view.prodNameTv.text = data.prodName &#125;&#125; æ¯’é¸¡æ±¤ ç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„æ¸æï¼Œè¿˜æœ‰è¿œæ–¹çš„è¥¿æ´‹å‚ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cameraçš„ä½¿ç”¨]]></title>
    <url>%2F2018%2F01%2F10%2FCamera%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ Androidçš„frameworkæ”¯æŒé€šè¿‡android.hardware.camera2APIæˆ–è€…æ˜¯è¿‡æ—¶çš„Cameraæ¥æ‹æ‘„å›¾ç‰‡å’Œè§†é¢‘ã€‚è¿™ç¯‡æ–‡ç« è®²è§£çš„æ˜¯Cameraçš„ä½¿ç”¨ï¼Œåç»­ä¼šå†™ä¸€ç¯‡å…³äºcamera2ä½¿ç”¨çš„æ–‡ç« ã€‚å½“ç„¶ï¼Œå¦‚æœä½ ç­‰ä¸åŠçš„è¯å¯ä»¥å»çœ‹çœ‹googleåšå®¢å…³äºcamera2çš„æ–‡ç« ï¼Œcamera2æ–‡ç« åœ°å€ï¼Œè¯·ç¿»å¢™æŸ¥çœ‹ã€‚ åŸºç¡€ android.hardware.camera2ï¼Œè¿™ä¸ªåŒ…æ˜¯æ§åˆ¶è®¾å¤‡ç›¸æœºçš„ä¸»è¦APIï¼Œå®ƒå¯ä»¥è¢«ç”¨æ¥æ‹æ‘„å›¾ç‰‡æˆ–è€…è§†é¢‘å½“ä½ æƒ³æ„å»ºä¸€ä¸ªç›¸æœºappçš„æ—¶å€™ï¼› Cameraï¼Œè¿™ä¸ªç±»ä¹Ÿæ˜¯ç”¨æ¥æ§åˆ¶è®¾å¤‡ç›¸æœºçš„ï¼Œä½†æ˜¯åœ¨API21ä¹‹åè¿‡æ—¶äº†ï¼› SurfaceViewï¼Œè¿™ä¸ªç±»ç”¨æ¥ç»™ç”¨æˆ·å‘ˆç°ç›¸æœºçš„é¢„è§ˆï¼› MediaRecorderï¼Œè¿™ä¸ªç±»é€šè¿‡ç›¸æœºæ¥å½•åˆ¶è§†é¢‘ï¼› Intentï¼Œå¦‚æœä½ çš„ç›®çš„ä»…ä»…åªæ˜¯ç®€å•çš„æ‹æ‘„ä¸€å¼ å›¾ç‰‡æˆ–è€…ä¸€æ®µè§†é¢‘ï¼Œä½ å®Œå…¨å¯ä»¥è°ƒç”¨ç³»ç»Ÿçš„ç›¸æœºè®©å®ƒæ¥å®Œæˆè¿™äº›äº‹æƒ…ï¼Œè€Œä¸éœ€è¦ç›´æ¥æ“æ§ç³»ç»Ÿç›¸æœºã€‚ä½ å¯ä»¥ä½¿ç”¨MediaStore.ACTION_IMAGE_CAPTUREæ¥è°ƒç”¨ç³»ç»Ÿç›¸æœºæ¥æ‹æ‘„å›¾ç‰‡ï¼Œæˆ–è€…é€šè¿‡MediaStore.ACTION_VIDEO_CAPTUREæ¥è°ƒç”¨ç³»ç»Ÿç›¸æœºæ¥æ‹æ‘„è§†é¢‘ã€‚ Manifestå£°æ˜ å½“ä½ ä½¿ç”¨Camera APIè¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œä½ å¿…é¡»ç¡®ä¿ä½ çš„manifestæ–‡ä»¶ä¸­å£°æ˜äº†ç›¸å…³çš„ä¸œè¥¿ã€‚ Camera Permissionï¼Œå½“appéœ€è¦ä½¿ç”¨è®¾å¤‡ç›¸æœºçš„æ—¶å€™å¿…é¡»å£°æ˜è¿™ä¸ªæƒé™ 1&lt;uses-permission android:name="android.permission.CAMERA" /&gt; Camera Featuresï¼ŒåŒæ—¶å¾—å£°æ˜ä½¿ç”¨ç›¸æœºç›¸å…³çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ã€‚å…³äºcamera featuresçš„åˆ—è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹Features Referenceã€‚æ·»åŠ camera featuresåˆ°manifestæ–‡ä»¶ä¸­ä¼šå¯¼è‡´Google Playé˜²æ­¢ä½ çš„åº”ç”¨å®‰è£…åœ¨é‚£äº›æ²¡æœ‰ç›¸æœºæˆ–è€…æ˜¯ä¸æ”¯æŒç›¸æœºç‰¹æ€§çš„è®¾å¤‡ä¸Šã€‚å¦‚æœä½ çš„appå¹¶ä¸æ˜¯ä¸€å®šéœ€è¦cameraï¼Œä½ å¯ä»¥åœ¨manifestä¸­é€šè¿‡ android:required æ¥æŒ‡å®šã€‚ 1&lt;uses-permission android:name="android.hardware.camera" android:required="false" /&gt; Storage Permissionï¼Œå¦‚æœåº”ç”¨ç¨‹åºéœ€è¦å°†å›¾ç‰‡æˆ–è€…è§†é¢‘ä¿å­˜åˆ°external storageä¸­ï¼Œè¿˜éœ€è¦å£°æ˜è¿™ä¸ªæƒé™ï¼› 1&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt; Audio Recording Permissionï¼Œè§†é¢‘å½•åˆ¶çš„è¿‡ç¨‹ä¸­è¿˜éœ€è¦å½•åˆ¶éŸ³é¢‘ï¼Œæ‰€ä»¥å¾—æ·»åŠ éŸ³é¢‘å½•åˆ¶çš„æƒé™ï¼ŒéŸ³é¢‘å½•åˆ¶åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­å·²ç»è®²è¿‡ï¼Œä¸æ‡‚çš„å¯ä»¥å» Androidå½•åˆ¶ç³»åˆ—ä¹‹éŸ³é¢‘å½•åˆ¶è¿›è¡ŒæŸ¥é˜…ï¼› 1&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt; Location Permissionï¼Œå¦‚æœappéœ€è¦ç»™å›¾ç‰‡æ‰“ä¸ŠGPSå®šä½ä¿¡æ¯çš„tagï¼Œä½ éœ€è¦ç”³è¯· ACCESS_FINE_LOCATION æƒé™ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒAndroid5.0åŠä»¥ä¸Šç‰ˆæœ¬éœ€è¦å£°æ˜ä½¿ç”¨è®¾å¤‡çš„GPSï¼› 123&lt;uses-permission android:name ="android.permission.ACCESS_FINE_LOCATION" /&gt;&lt;!-- targetSdkVersion &gt;= 21 çš„éœ€è¦æ·»åŠ  --&gt;&lt;uses-feature android:name="android.hardware.location.gps" /&gt; å¦‚ä½•ä½¿ç”¨è®¿é—®ç›¸æœº æ£€ç´¢å¹¶è®¿é—®ç›¸æœºï¼Œå¦‚æœä½ çš„appæ²¡æœ‰åœ¨manifestæ–‡ä»¶ä¸­å£°æ˜æ˜¯å¦åªèƒ½å®‰è£…åœ¨æœ‰ç›¸æœºçš„è®¾å¤‡ä¸Šï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œè¯·æ£€æµ‹è®¾å¤‡æ˜¯å¦æœ‰ç›¸æœºçš„ç¡¬ä»¶æ”¯æŒã€‚1fun hasFeatureCamera(context: Context) = context.packageManager.hasSystemFeature(PackageManager.FEATURE_CAMERA) Android2.3 ä¹‹åä½ å¯ä»¥ç›´æ¥é€šè¿‡ Camera.getNumberOfCameras() æ–¹æ³•ç›´æ¥è·å–åˆ°è®¾å¤‡ä¸Šå¯ç”¨çš„ç›¸æœºæ•°é‡ã€‚å¦‚æœä½ éå¸¸æ¸…æ¥šä½ appè¿è¡Œåœ¨æœ‰ç›¸æœºæ”¯æŒçš„è®¾å¤‡ä¸Šè¿è¡Œæ—¶ï¼Œä½ å¯ä»¥ç›´æ¥é€šè¿‡ Camera.open() æ–¹æ³•å»è¯·æ±‚å¹¶è·å–ä¸€ä¸ªCameraçš„å®ä¾‹ï¼Œå®ƒä¼š è®¿é—®è®¾å¤‡ä¸Šçš„ç¬¬ä¸€ä¸ªåç½®æ‘„åƒå¤´ã€‚12345678910fun getCamera(): Camera? &#123; var camera: Camera? = null try &#123; camera = Camera.open() &#125; catch (e: Exception) &#123; //å¦‚æœä¸æ•è·å¼‚å¸¸ï¼Œç›¸æœºåœ¨è¢«å…¶ä»–çš„appä½¿ç”¨ï¼Œæˆ–è€…è®¾å¤‡ä¸Šæ ¹æœ¬æ²¡æœ‰ç›¸æœºçš„æ—¶å€™ï¼Œå°±ä¼šå¯¼è‡´app crash Log.d("Amoryan", "open camera error!") &#125; return camera&#125; Android 2.3 ä¹‹åä½ å¯ä»¥é€šè¿‡ Camera.open(int) è®¿é—®æŒ‡å®šçš„ç›¸æœºã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥è¿™ä¹ˆç©ã€‚123456789101112131415fun getCameraInfo() &#123; try &#123; for (i in 0 until Camera.getNumberOfCameras()) &#123; val cameraInfo: Camera.CameraInfo = Camera.CameraInfo() Camera.getCameraInfo(i, cameraInfo) if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_BACK) &#123; Log.d("Amoryan", "$i is back facing,orientation is $&#123;cameraInfo.orientation&#125;") &#125; else &#123; Log.d("Amoryan", "$i is front facing,orientation is $&#123;cameraInfo.orientation&#125;") &#125; &#125; &#125; catch (e: Exception) &#123; Log.d("Amoryan", "open camera error!") &#125;&#125; è®¾ç½®é¢„è§ˆ è®¾ç½®é¢„è§ˆç•Œé¢ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨SurfaceViewï¼Œæˆ–å†™ä¸€ä¸ªSurfaceViewçš„å­ç±»ï¼Œç„¶åå®ç°SurfaceHolder.Callbackçš„ç›¸å…³å›è°ƒï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œç›´æ¥åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨SurfaceViewäº†12345678&lt;SurfaceView android:id="@+id/surfaceView" android:layout_width="0dp" android:layout_height="0dp" app:layout_constraintBottom_toBottomOf="parent" app:layout_constraintLeft_toLeftOf="parent" app:layout_constraintRight_toRightOf="parent" app:layout_constraintTop_toTopOf="parent"/&gt; ç„¶åå®ç°ç›¸å¯¹åº”çš„å›è°ƒæ¥å£12345678910111213141516171819class MainActivity : AppCompatActivity(), SurfaceHolder.Callback &#123; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) surfaceView.holder.addCallback(this) &#125; override fun surfaceChanged(holder: SurfaceHolder?, format: Int, width: Int, height: Int) &#123; &#125; override fun surfaceDestroyed(holder: SurfaceHolder?) &#123; &#125; override fun surfaceCreated(holder: SurfaceHolder?) &#123; &#125;&#125; æ‹æ‘„å›¾ç‰‡ é€šè¿‡ takePicture æ–¹æ³•æ‹æ‘„å›¾ç‰‡ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„å°†æ‹æ‘„çš„å›¾ç‰‡æ˜¾ç¤ºåœ¨ImageViewä¸Šäº†ã€‚1234567891011captureTv.setOnClickListener &#123; camera?.safeTakePicture(null, null, pictureCallback) &#125;private val pictureCallback = Camera.PictureCallback &#123; data, camera -&gt; data?.apply &#123; releaseBitmap() bitmap = BitmapFactory.decodeByteArray(this, 0, this.size) previewImage.setImageBitmap(bitmap) camera?.safeStopPreview() setupCamera() &#125;&#125; é‡Šæ”¾Camera Cameraæ˜¯è®¾å¤‡ä¸Šçš„å…±äº«èµ„æºï¼Œå½“appè·å–åˆ°Cameraçš„å®ä¾‹åå°±å¯ä»¥ä½¿ç”¨å®ƒï¼Œä½†æ˜¯åœ¨appä¸éœ€è¦Cameraæˆ–è€…å½“ç•Œé¢å˜å¾—ä¸å¯è§çš„æ—¶å€™åº”è¯¥æ­£ç¡®çš„é‡Šæ”¾ã€‚ä¸¾ä¸ªæ —å­ï¼Œå½“ç•Œé¢å˜å¾—ä¸å¯è§çš„æ—¶å€™ï¼Œå¦‚æœä½ æ²¡æœ‰æ­£ç¡®çš„é‡Šæ”¾æ‰èµ„æºï¼Œå°±ä¼šå¯¼è‡´æ¥ä¸‹æ¥æƒ³è¦è®¿é—®Cameraçš„appè·å–å¤±è´¥ï¼Œè€Œæ²¡åŠæ³•æ­£å¸¸å·¥ä½œã€‚12345override fun onPause() &#123; super.onPause() camera?.safeRelease() camera = null&#125; å®Œæ•´ä»£ç  githubé¡¹ç›®åœ°å€1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798package com.yanfangxiong.camerademoimport android.Manifestimport android.content.pm.PackageManagerimport android.graphics.Bitmapimport android.graphics.BitmapFactoryimport android.hardware.Cameraimport android.os.Bundleimport android.support.v4.app.ActivityCompatimport android.support.v7.app.AppCompatActivityimport android.view.SurfaceHolderimport kotlinx.android.synthetic.main.activity_main.*class MainActivity : AppCompatActivity(), SurfaceHolder.Callback &#123; companion object &#123; val REQUEST_CAMERA_PERMISSION = 1 &#125; private var camera: Camera? = null private var bitmap: Bitmap? = null private val pictureCallback = Camera.PictureCallback &#123; data, camera -&gt; data?.apply &#123; releaseBitmap() bitmap = BitmapFactory.decodeByteArray(this, 0, this.size) previewImage.setImageBitmap(bitmap) camera?.safeStopPreview() setupCamera() &#125; &#125; override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) surfaceView.holder.addCallback(this) captureTv.setOnClickListener &#123; camera?.safeTakePicture(null, null, pictureCallback) &#125; &#125; private fun checkCameraPermission() &#123; val cameraPermissionStatus = ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) if (cameraPermissionStatus == PackageManager.PERMISSION_GRANTED) &#123; openCamera() &#125; else &#123; ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.CAMERA), REQUEST_CAMERA_PERMISSION) &#125; &#125; override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) &#123; super.onRequestPermissionsResult(requestCode, permissions, grantResults) if (requestCode == REQUEST_CAMERA_PERMISSION &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; openCamera() &#125; &#125; private fun openCamera() &#123; camera = safeOpenCamera() setupCamera() &#125; private fun setupCamera() &#123; camera?.apply &#123; setDisplayOrientation(90) setPreviewDisplay(surfaceView.holder) safeStartPreview() &#125; &#125; override fun surfaceCreated(holder: SurfaceHolder?) &#123; if (camera == null) &#123; checkCameraPermission() &#125; else &#123; setupCamera() &#125; &#125; override fun surfaceChanged(holder: SurfaceHolder?, format: Int, width: Int, height: Int) &#123; camera?.safeStopPreview() setupCamera() &#125; override fun surfaceDestroyed(holder: SurfaceHolder?) &#123; &#125; override fun onPause() &#123; super.onPause() camera?.safeRelease() camera = null &#125; private fun releaseBitmap() &#123; bitmap?.recycle() bitmap = null &#125;&#125; æ¯’é¸¡æ±¤ äººç”Ÿä¸å¦‚æ„çš„æ—¶å€™æ˜¯ä¸Šå¸ç»™çš„é•¿å‡ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidå½•åˆ¶ç³»åˆ—ä¹‹è§†é¢‘å½•åˆ¶]]></title>
    <url>%2F2018%2F01%2F09%2FAndroid%E5%BD%95%E5%88%B6%E7%B3%BB%E5%88%97%E4%B9%8B%E8%A7%86%E9%A2%91%E5%BD%95%E5%88%B6%2F</url>
    <content type="text"><![CDATA[å‰è¨€ è§†é¢‘å½•åˆ¶ä½¿ç”¨çš„æ˜¯ Camera å’Œå‰é¢è®²è¿‡çš„ MediaRecorderã€‚åœ¨è§†é¢‘å½•åˆ¶çš„è¿‡ç¨‹ä¸­ä½ éœ€è¦é€šè¿‡ Camera.unlock() å’Œ Camera.lock() æ–¹æ³•æ¥å…è®¸MediaRecorderæ¥è®¿é—®ç¡¬ä»¶ç›¸æœºã€‚å’Œä½¿ç”¨ Camera æ‹æ‘„å›¾ç‰‡ä¸ä¸€æ ·ï¼Œæ‹æ‘„è§†é¢‘æœ‰ ä¸¥æ ¼çš„è°ƒç”¨é¡ºåºã€‚ å¦‚ä½•ä½¿ç”¨ æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¯¥æ€ä¹ˆç©è¿™ä¸ªç©æ„ã€‚ è·å–Camera é¦–å…ˆæˆ‘ä»¬å¾—è·å–åˆ° Camera ã€‚è·å–ç›¸æœºçš„æ–¹å¼è¿™é‡Œå°±ä¸åœ¨è¿‡å¤šçš„è¯´æ˜äº†ï¼Œå¦‚æœä½ è¿˜æ˜¯ä¸çŸ¥é“å¯ä»¥å»æŸ¥çœ‹æˆ‘çš„å¦å¤–ä¸€ä¸ªæ–‡ç«  Cameraçš„ä½¿ç”¨ã€‚ è®¾ç½®é¢„è§ˆç•Œé¢ è¿™é‡Œä½¿ç”¨çš„æ˜¯SurfaceViewï¼Œä½ ä¹Ÿå¯ä»¥å»æŸ¥çœ‹Cameraçš„ä½¿ç”¨è¿™ç¯‡æ–‡ç« ã€‚1234567891011121314151617181920212223242526override fun onCreate(savedInstanceState: Bundle?) &#123; //... surfaceView.holder.addCallback(this) //...&#125;override fun surfaceChanged(holder: SurfaceHolder?, format: Int, width: Int, height: Int) &#123; try &#123; camera?.stopPreview() &#125; catch (e: Exception) &#123; Log.d("Amoryan", "stop preview error!") releaseCamera() &#125; setupCamera()&#125;override fun surfaceDestroyed(holder: SurfaceHolder?) &#123;&#125;override fun surfaceCreated(holder: SurfaceHolder?) &#123; checkCameraPermission()&#125; å¼€å§‹å½•åˆ¶ ç›¸æœºçš„å‡†å¤‡å·¥ä½œåšå¥½ä¹‹åå°±å¯ä»¥å¼€å§‹å½•åˆ¶äº†ã€‚ é€šè¿‡ Camera.unlock() å…è®¸MediaRecorderè®¿é—®Cameraï¼› é€šè¿‡ MediaRecorder.setCamera() å°†MediaRecorderå’ŒCameraå…³è”ï¼› è®¾ç½®éŸ³é¢‘æºï¼Œé€šè¿‡ MediaRecorder.setAudioSource() è®¾ç½®éŸ³é¢‘æºä¸º MediaRecorder.AudioSource.CAMCORDERï¼› è®¾ç½®è§†é¢‘æºï¼Œé€šè¿‡ MediaRecorder.setVideoSource() è®¾ç½®è§†é¢‘æºä¸º MediaRecorder.VideoSource.CAMERAï¼› è®¾ç½®è¾“å‡ºæ ¼å¼å’Œç¼–ç æ–¹å¼ï¼Œä¸è¿‡åœ¨ Android2.2 ä¹‹åä½ å°±å¯ä»¥é€šè¿‡ MediaRecorder.setProfile() æ–¹æ³•æ¥è®¾ç½®ä¸€ä¸ªå½•åˆ¶è§†é¢‘çš„é…ç½®ï¼› é€šè¿‡ MediaRecorder.setOutputFile() è®¾ç½®å½•åˆ¶è§†é¢‘åä¿å­˜çš„æ–‡ä»¶è·¯å¾„ï¼› é€šè¿‡ MediaRecorder.setPreviewDisplay() è®¾ç½®é¢„è§ˆç•Œé¢æ˜¯SurfaceViewï¼› ç»è¿‡ä»¥ä¸Šçš„é…ç½®ä¹‹åMediaRecorderå°±å·²ç»å‡†å¤‡å®Œæˆï¼Œä¹‹åä½ å°±å¯ä»¥è°ƒç”¨ MediaRecorder.prepare() è¡¨ç¤ºä½ å·²ç»å‡†å¤‡å®Œæˆäº†ï¼› é€šè¿‡ MediaRecorder.start() å¼€å§‹å½•åˆ¶ï¼› åœæ­¢å½•åˆ¶ å½“ä½ å½•åˆ¶å®Œæˆä¹‹åï¼Œä¹Ÿéœ€è¦æ­£ç¡®çš„é‡Šæ”¾èµ„æºã€‚ é€šè¿‡ MediaRecorder.stop() åœæ­¢å½“å‰çš„å½•åˆ¶ï¼› é€šè¿‡ MediaRecorder.reset() é‡ç½®å½“å‰çš„MediaRecorderé…ç½®ï¼Œä»¥ä¾¿ä¹‹åå…¶ä»–appçš„ä½¿ç”¨ï¼› é€šè¿‡ MediaRecorder.release() å°†MediaRecorderé‡Šæ”¾ï¼› é€šè¿‡ Camera.lock() å°†ç›¸æœºèµ„æºé”ä½ï¼Œæ–¹ä¾¿å…¶ä»–çš„appè¿›è¡Œä½¿ç”¨ï¼› é€šè¿‡ Camera.stopPreview() åœæ­¢ç›¸æœºçš„é¢„è§ˆï¼› é€šè¿‡ Camera.release() é‡Šæ”¾ç›¸æœºçš„èµ„æºï¼Œæ–¹ä¾¿å…¶ä»–çš„appè¿›è¡Œä½¿ç”¨ã€‚ å°æŠ€å·§ å¦‚æœä½ ä½¿ç”¨Cameraæ¥å½•åˆ¶è§†é¢‘ï¼Œä½ å¯ä»¥é€šè¿‡ setRecordingHint() åœ¨å¼€å¯é¢„è§ˆå‰è®¾ç½®ä¸ºtrueï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå‡å°‘å¼€å§‹å½•åˆ¶çš„æ—¶é—´ã€‚ é¡¹ç›®åœ°å€ githubé¡¹ç›®åœ°å€ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212package com.yanfangxiong.mediarecorderdemoimport android.Manifestimport android.content.Contextimport android.content.Intentimport android.content.pm.PackageManagerimport android.hardware.Cameraimport android.media.CamcorderProfileimport android.media.MediaRecorderimport android.os.Bundleimport android.os.Environmentimport android.support.v4.app.ActivityCompatimport android.support.v7.app.AppCompatActivityimport android.util.Logimport android.view.SurfaceHolderimport android.view.Viewimport android.widget.Toastimport kotlinx.android.synthetic.main.activity_video_recorder.*import java.io.File/** * @author fxYan */class VideoRecorderActivity : AppCompatActivity(), View.OnClickListener, SurfaceHolder.Callback &#123; companion object &#123; const val REQUEST_CAMERA_PERMISSION = 1 const val REQUEST_RECORD_AUDIO_PERMISSION = 2 fun jumpToActivity(context: Context) &#123; val intent = Intent(context, VideoRecorderActivity::class.java) val queryIntentActivities = context.packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY) if (queryIntentActivities != null &amp;&amp; queryIntentActivities.isNotEmpty()) &#123; context.startActivity(intent) &#125; &#125; &#125; private var camera: Camera? = null private var mediaRecorder: MediaRecorder? = null private var isRecording = false override fun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.activity_video_recorder) surfaceView.holder.addCallback(this) controlIv.setOnClickListener(this) &#125; override fun onClick(v: View?) &#123; when (v?.id) &#123; R.id.controlIv -&gt; &#123; if (camera == null) &#123; return &#125; if (isRecording) &#123; //å¦‚æœåœ¨å½•åˆ¶ä¸­ try &#123; mediaRecorder?.stop() &#125; catch (e: Exception) &#123; Log.d("Amoryan", "stop media recorder error!") &#125; releaseMediaRecorder() &#125; else &#123; //å¼€å¯å½•åˆ¶ checkRecordAudioPermission() &#125; &#125; &#125; &#125; override fun surfaceChanged(holder: SurfaceHolder?, format: Int, width: Int, height: Int) &#123; try &#123; camera?.stopPreview() &#125; catch (e: Exception) &#123; Log.d("Amoryan", "stop preview error!") releaseCamera() &#125; setupCamera() &#125; override fun surfaceDestroyed(holder: SurfaceHolder?) &#123; &#125; override fun surfaceCreated(holder: SurfaceHolder?) &#123; checkCameraPermission() &#125; private fun checkCameraPermission() &#123; when &#123; ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED -&gt; &#123; openCamera() &#125; else -&gt; &#123; ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.CAMERA), REQUEST_CAMERA_PERMISSION) &#125; &#125; &#125; private fun checkRecordAudioPermission() &#123; when &#123; ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED -&gt; &#123; startRecord() &#125; else -&gt; &#123; ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.RECORD_AUDIO), REQUEST_RECORD_AUDIO_PERMISSION) &#125; &#125; &#125; private fun openCamera() &#123; try &#123; camera = Camera.open() setupCamera() &#125; catch (e: Exception) &#123; Log.d("Amoryan", "open camera error!") &#125; &#125; private fun setupCamera() &#123; try &#123; camera?.apply &#123; parameters.focusMode = Camera.Parameters.FOCUS_MODE_AUTO setPreviewDisplay(surfaceView.holder) setDisplayOrientation(90) startPreview() autoFocus(null) &#125; &#125; catch (e: Exception) &#123; Log.d("Amoryan", "set up camera error!") releaseCamera() &#125; &#125; private fun releaseCamera() &#123; try &#123; camera?.stopPreview() camera?.release() &#125; catch (e: Exception) &#123; Log.d("Amoryan", "release camera error!") &#125; camera = null &#125; private fun startRecord() &#123; try &#123; mediaRecorder = MediaRecorder() mediaRecorder?.apply &#123; reset() camera?.unlock() setCamera(camera) setAudioSource(MediaRecorder.AudioSource.CAMCORDER) setVideoSource(MediaRecorder.VideoSource.CAMERA) setProfile(CamcorderProfile.get(CamcorderProfile.QUALITY_1080P)) val file = File(getExternalFilesDir(Environment.DIRECTORY_MOVIES), "videoRecorder.mp4") setOutputFile(file.absolutePath) setPreviewDisplay(surfaceView.holder.surface) prepare() start() isRecording = true Toast.makeText(this@VideoRecorderActivity, "å¼€å¯å½•åˆ¶...", Toast.LENGTH_SHORT).show() &#125; &#125; catch (e: Exception) &#123; Log.d("Amoryan", "mediaRecorder error!") releaseMediaRecorder() &#125; &#125; private fun releaseMediaRecorder() &#123; try &#123; mediaRecorder?.apply &#123; reset() release() &#125; &#125; catch (e: Exception) &#123; Log.d("Amoryan", "release media recorder error!") &#125; camera?.lock() mediaRecorder = null isRecording = false &#125; override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) &#123; super.onRequestPermissionsResult(requestCode, permissions, grantResults) if (requestCode == REQUEST_CAMERA_PERMISSION &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; openCamera() &#125; else if (requestCode == REQUEST_RECORD_AUDIO_PERMISSION &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; startRecord() &#125; &#125; override fun onPause() &#123; super.onPause() releaseMediaRecorder() releaseCamera() &#125;&#125; æ¯’é¸¡æ±¤ èµ°è¿‡ä¸€äº›å¼¯è·¯ï¼Œä¹Ÿå¥½è¿‡åŸåœ°è¸æ­¥ï½]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidå½•åˆ¶ç³»åˆ—ä¹‹éŸ³é¢‘å½•åˆ¶]]></title>
    <url>%2F2018%2F01%2F06%2FAndroid%E5%BD%95%E5%88%B6%E7%B3%BB%E5%88%97%E4%B9%8B%E9%9F%B3%E9%A2%91%E5%BD%95%E5%88%B6%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ Androidçš„å¤šåª’ä½“æ¡†æ¶åŒ…å«å¹¶æ”¯æŒå½•åˆ¶å’Œè§£ç å¤šç§å¤šæ ·çš„éŸ³è§†é¢‘æ ¼å¼ã€‚å¦‚æœè®¾å¤‡æ”¯æŒï¼Œä½ å¯ä»¥ä½¿ç”¨MediaRecorderæ¥è¿›è¡Œè¿™äº›æ“ä½œã€‚( Androidæ¨¡æ‹Ÿå™¨æ— æ³•å½•åˆ¶éŸ³é¢‘ ) MediaRecorderçš„ä½¿ç”¨æƒé™ å¦‚æœä½ æƒ³è¿›è¡ŒéŸ³é¢‘å½•åˆ¶ï¼Œä½ å¿…é¡»æ·»åŠ RECORDER_AUDIOçš„æƒé™ï¼Œè¿™æ˜¯ä¸€ä¸ª å±é™©æƒé™ ï¼Œå¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•è¯·æ±‚æƒé™ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç«  Androidè¿è¡Œæ—¶æƒé™çš„å¤„ç†ã€‚1&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt; é…ç½®MediaRecorder é…ç½®ä¸€ä¸ªMediaRecorderä½ åªéœ€è¦ç®€å•çš„å‡ æ­¥å°±å¯ä»¥äº†ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å¾—åˆ›å»ºä¸€ä¸ª MediaRecorder çš„å®ä¾‹å¯¹è±¡ï¼› 1val mediaRecorder = MediaRecorder() é€šè¿‡ setAudioSource() æ–¹æ³•è®¾ç½®éŸ³é¢‘æºï¼ŒéŸ³é¢‘æºçš„å–å€¼ä½ å¯ä»¥ç›´æ¥æŸ¥çœ‹ MediaRecorder.AudioSourceï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¼šé€‰æ‹© MIC ä¹Ÿå°±æ˜¯éº¦å…‹é£ä½œä¸ºéŸ³é¢‘æºï¼› 1mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC) é€šè¿‡ setOutputFormat() æ–¹æ³•è®¾ç½®è¾“å‡ºæ ¼å¼ï¼Œè¾“å‡ºæ ¼å¼çš„å–å€¼ä½ å¯ä»¥ç›´æ¥æŸ¥çœ‹ MediaRecorder.OutputFormatï¼› 1mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP) é€šè¿‡ setAudioEncoder() æ–¹æ³•è®¾ç½®éŸ³é¢‘è§£ç æ–¹å¼ï¼Œè§£ç æ–¹å¼çš„å–å€¼ä½ å¯ä»¥ç›´æ¥æŸ¥çœ‹ MediaRecorder.AudioEncoder 1mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC) é€šè¿‡ setOutputFile() æ–¹æ³•è®¾ç½®ä¿å­˜æ–‡ä»¶çš„è·¯å¾„ï¼Œ 12val file = File(getExternalFilesDir(Environment.DIRECTORY_MOVIES), "audioRecorder.3gp")mediaRecorder.setOutputFile(file.absolutePath) å®Œæˆåˆå§‹åŒ–é…ç½®åï¼Œä½ å°±å¯ä»¥è°ƒç”¨ prepare()æ–¹æ³• ï¼›ç„¶åè°ƒç”¨ start() ä½ å°±å¯ä»¥å¼€å§‹å½•åˆ¶äº†ã€‚ 12mediaRecorder.prepare()mediaRecorder.start() å€¼å¾—æ³¨æ„çš„ å¤§éƒ¨åˆ†(åŒ…æ‹¬DEFAULT)çš„éŸ³é¢‘æº éƒ½ä¼šå¯¹éŸ³é¢‘ä¿¡å·åšå¤„ç† ï¼Œå¦‚æœä½ æƒ³å½•åˆ¶åŸå§‹çš„éŸ³é¢‘ï¼Œä½ å¯ä»¥é€‰æ‹©MediaRecorder.AudioSource.UNPROCESSED(å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©AudioRecorderè¿™ä¸ªæ›´æ¥è¿‘åº•å±‚çš„ç±»ï¼Œåé¢ä¼šæ‰¾æ—¶é—´å†™ä¸€ç¯‡å…³äºAudioRecorderå½•åˆ¶çš„æ–‡ç« )ã€‚ æœ‰äº›è®¾å¤‡æ˜¯ä¸æ”¯æŒå½•åˆ¶æœªå¤„ç†çš„éŸ³é¢‘ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¿™ç§æ–¹å¼æ¥è·å–è®¾å¤‡æ˜¯å¦æ”¯æŒå½•åˆ¶åŸå§‹éŸ³é¢‘ã€‚1234567val audioManager: AudioManager? = getSystemService(Context.AUDIO_SERVICE) as? AudioManagervar isSupportedRawAudioInput = "false"audioManager?.apply &#123; if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) &#123; isSupportedRawAudioInput = getProperty("android.media.property.SUPPORT_AUDIO_SOURCE_UNPROCESSED") &#125;&#125; å—¯~whatï¼Œæˆ‘ç›¸ä¿¡ä½ ä¹Ÿå‘ç°äº†ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ API 17 æ‰å‡ºç°çš„ã€‚ç›®å‰å…¬å¸é¡¹ç›®çš„æœ€ä½æ”¯æŒæ˜¯16ï¼Œæ‰€ä»¥å¾—æ‰¾ä¸€ç§æ–¹å¼åœ¨ API 16 ä¸Šä¹Ÿèƒ½å¤Ÿè·å–åˆ°è¿™ä¸ªå±æ€§ã€‚ç»“åˆä¹‹å‰çš„ä¸€äº›ç»éªŒï¼Œæˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯å…ˆçœ‹çœ‹API16çš„AudioManagerçš„æºç ï¼Œå¸Œæœ›è¿™ä¸ªæ–¹æ³•æ˜¯æœ¬èº«å­˜åœ¨çš„ï¼Œåªæ˜¯è¢«éšè—äº†ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥ç›´æ¥é€šè¿‡åå°„çš„æ–¹å¼å»è°ƒç”¨ï¼Œä½†æ˜¯äº‹å®ä¸æ˜¯å¦‚æ­¤ï¼Œåœ¨API16ä¸­ï¼ŒAudioManagerç¡®å®æ˜¯æ²¡æœ‰getProperty()æ–¹æ³• ï¼›äºæ˜¯ï¼Œæœ¬ç€å­¦ä¹ çš„æ€åº¦ï¼Œæˆ‘ç¿»çœ‹äº†æ›´é«˜ç‰ˆæœ¬çš„AudioManagerçš„æºç ï¼Œå‘ç°å®ƒçš„è°ƒç”¨é“¾æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚123if (PROPERTY_SUPPORT_AUDIO_SOURCE_UNPROCESSED.equals(key)) &#123; return String.valueOf(getContext().getResources().getBoolean(com.android.internal.R.bool.config_supportAudioSourceUnprocessed));&#125; ä»¿ä½›æŠ“åˆ°ä¸€é¢—æ•‘å‘½ç¨»è‰ï¼Œäºæ˜¯æˆ‘æƒ³æˆ‘ç›´æ¥åœ¨ä»£ç é‡Œé¢è·å–è¿™ä¸ªå±æ€§ä¸å°±å¥½äº†ï¼Œè¿™é‡Œç»™ä½ èŒçœ‹ä¸€å¼ å›¾å§ï¼Œä¸Šé¢ä»£ç æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œæ‰¾ä¸åˆ°com.android.interal.Rã€‚ ç„¶åï¼Œæˆ‘å»googleä¸Šæœç´¢äº†å…³äºå¦‚ä½•å¼•ç”¨è¿™ä¸ªèµ„æºæ–‡ä»¶ï¼Œé¦–å…ˆï¼Œé€šè¿‡åå°„æ˜¯è‚¯å®šå¯ä»¥è·å–åˆ°çš„ï¼Œä½†æ˜¯googleä¼šæœ‰ä¸€ä¸ªè­¦å‘Šå‘Šè¯‰ä½  é€šè¿‡åå°„çš„æ–¹å¼è®¿é—®å†…éƒ¨APIså¯èƒ½ä¼šåœ¨æŸäº›è®¾å¤‡ä¸Šä¸æ”¯æŒ ï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨ä¸‹é¢è¿™ä¸ªå®‰å…¨çš„æ–¹å¼å§ã€‚1resources.getBoolean(Resources.getSystem().getIdentifier("config_supportAudioSourceUnprocessed", "bool", "android")) å—¯å“¼ï¼Œé«˜å…´çš„å¤ªæ—©äº†ï¼Œäºæ˜¯ä¹æˆ‘å°±å¼€å¯äº†API16çš„æ¨¡æ‹Ÿå™¨è¿è¡Œäº†èµ·æ¥ï¼Œå½“èµ°åˆ°è¿™ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œå°±å‡ºç°äº†ä¸‹é¢çš„ç»“æœï¼Œå¥½å§ï¼Œè¿™ä¸ªå±æ€§çš„åˆ¤æ–­ä¼¼ä¹åªèƒ½æ˜¯API17æ‰èƒ½ç”¨ï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨å®˜æ–¹æ¨èçš„é‚£ç§æ–¹å¼å§ã€‚ å¦‚æœä¸æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨ MediaRecorder.AudioSource.VOICE_RECOGNITION ã€‚å®ƒä¸ä½¿ç”¨AGC(Auto Gain Controlï¼Œè‡ªåŠ¨å¢ç›Šæ§åˆ¶ï¼Œå½“ä¿¡å·æºè¾ƒå¼ºçš„æ—¶å€™ï¼Œä½¿å…¶å¢ç›Šè‡ªåŠ¨é™ä½ï¼›å½“ä¿¡å·æºè¾ƒå¼±çš„æ—¶å€™ï¼Œä½¿å…¶å¢ç›Šè‡ªåŠ¨å¢é«˜)ï¼Œå¹¶ä¸”ä¸ä¼šåšé™å™ªå¤„ç†ã€‚å½“ç„¶ï¼Œå³ä½¿è®¾å¤‡ä¸æ”¯æŒUNPROCESSEDï¼Œä½ ä»æ—§å¯ä»¥è®¾ç½®ä¸ºè¿™ä¸ªï¼Œåªæ˜¯è¿™æ ·ä½ å°±ä¸çŸ¥é“éŸ³é¢‘ä¿¡å·æœ‰æ²¡æœ‰è¢«å¤„ç†äº†ã€‚ MediaRecorderçš„çŠ¶æ€ è¿™é‡Œç›´æ¥ä½¿ç”¨å®˜æ–¹çš„çŠ¶æ€å›¾äº†ï¼Œå¦‚ä¸‹ äº‹ä»¶ç›‘å¬ MediaRecorderæä¾›äº†ä¸¤ä¸ªç›‘å¬äº‹ä»¶çš„æ¥å£ï¼Œä¸€ä¸ªæ˜¯MediaRecorder.OnInfoListenerï¼Œå¦ä¸€ä¸ªæ˜¯MediaRecorder.OnErrorListenerã€‚ OnInfoListener å¯ä»¥ç”¨æ¥ç›‘å¬MediaRecorderçš„ä¸€äº›çŠ¶æ€ï¼Œæ¯”å¦‚æœ€å¤§å½•åˆ¶äº‹ä»¶åˆ°äº†ç­‰ç­‰ã€‚12345678910111213141516mediaRecorder.setOnInfoListener&#123; _,what,_-&gt; when(what)&#123; MediaRecorder.MEDIA_RECORDER_INFO_MAX_DURATION_REACHED-&gt;&#123; //è¿™ä¸ªæšä¸¾å€¼å¯¹åº”mediaRecorder.setMaxDuration()ï¼Œå½“è®¾ç½®çš„æœ€å¤§å½•åˆ¶æ—¶é—´åˆ°äº†åï¼Œä¼šå›è°ƒè¿™ä¸ª &#125; MediaRecorder.MEDIA_RECORDER_INFO_MAX_FILESIZE_APPROACHING-&gt;&#123; //è¿™ä¸ªæšä¸¾å€¼å¯¹åº”setMaxFileSize()ï¼Œå½“å½•åˆ¶æ–‡ä»¶å¤§å°å¿«æ¥è¿‘æœ€å¤§å€¼çš„æ—¶å€™ä¼šå›è°ƒè¿™ä¸ªï¼Œè¿™ä¸ªæ˜¯API26æ–°å¢ &#125; MediaRecorder.MEDIA_RECORDER_INFO_MAX_FILESIZE_REACHED-&gt;&#123; //å½“å½•åˆ¶æ–‡ä»¶å¤§å°è¾¾åˆ°æœ€å¤§æ–‡ä»¶å¤§å°çš„æ—¶å€™ä¼šå›è°ƒè¿™ä¸ª &#125; MediaRecorder.MEDIA_RECORDER_INFO_NEXT_OUTPUT_FILE_STARTED-&gt;&#123; //è¿™ä¸ªæ–¹æ³•å¯¹åº”çš„æ˜¯setNextOutputFile()ï¼Œå½“å½•åˆ¶è§†é¢‘è¶…è¿‡æŒ‡å®šå¤§å°åä¿å­˜åˆ°nextæ–‡ä»¶ä¸­çš„æ—¶å€™å°±ä¼šå›è°ƒè¿™ä¸ªå€¼ï¼Œè¿™ä¸ªæ˜¯API26æ–°å¢ &#125; &#125;&#125; OnErrorListener ç›‘å¬Errorä¿¡æ¯ï¼Œ12345678mediaRecorder.setOnErrorListener&#123;_, what, _ -&gt; when(what)&#123; MediaRecorder.MEDIA_RECORDER_ERROR_UNKNOWN-&gt;&#123; &#125; MediaRecorder.MEDIA_ERROR_SERVER_DIED-&gt;&#123; &#125; &#125;&#125; ä¸¾ä¸ªæ —å­ å¸ƒå±€æ–‡ä»¶å°±ä¸ç»†è¯´äº†ï¼Œåªæœ‰ä¸€ä¸ªå½•åˆ¶æŒ‰é’®å’Œä¸€ä¸ªåœæ­¢æŒ‰é’®ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹Activityä¸­æ ¸å¿ƒçš„çš„ä»£ç ã€‚ è¯·æ±‚æƒé™123456789101112131415161718192021222324252627282930override fun onClick(v: View?) &#123; when (v?.id) &#123; R.id.startRecorderTv -&gt; checkRecordAudioPermission() R.id.stopRecorderTv -&gt; stopRecorder() &#125;&#125;private fun checkRecordAudioPermission() &#123; val hasRecordAudioPermission = ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) when &#123; hasRecordAudioPermission == PackageManager.PERMISSION_GRANTED -&gt; startRecorder() ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.RECORD_AUDIO) -&gt; AlertDialog.Builder(this) .setCancelable(false) .setMessage("è¯·æ±‚éŸ³é¢‘å½•åˆ¶æƒé™ï¼Œå¦åˆ™æ— æ³•å½•åˆ¶éŸ³é¢‘") .setNegativeButton("å–æ¶ˆ") &#123; _, _ -&gt; &#125; .setPositiveButton("ç¡®å®š") &#123; _, _ -&gt; requestRecordAudioPermission() &#125; .show() else -&gt; requestRecordAudioPermission() &#125;&#125;private fun requestRecordAudioPermission() &#123; ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.RECORD_AUDIO), REQUEST_RECORD_AUDIO_PERMISSION)&#125;override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) &#123; if (requestCode == REQUEST_RECORD_AUDIO_PERMISSION &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) &#123; startRecorder() &#125;&#125; å¼€å§‹å½•åˆ¶123456789101112131415161718private fun startRecorder() &#123; if (!isRecording) &#123; mediaRecorder = MediaRecorder() mediaRecorder?.apply &#123; setAudioSource(MediaRecorder.AudioSource.MIC) setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP) setAudioEncoder(MediaRecorder.AudioEncoder.AAC) val file = File(getExternalFilesDir(Environment.DIRECTORY_MOVIES), AUDIO_RECORDER_FILE_NAME) setOutputFile(file.absolutePath) try &#123; prepare() &#125; catch (e: Exception) &#123; &#125; start() isRecording = true &#125; &#125;&#125; åœæ­¢å½•åˆ¶12345678910private fun stopRecorder() &#123; if (isRecording) &#123; mediaRecorder?.apply&#123; stop() release() &#125; isRecording = false mediaRecorder = null &#125;&#125; é¡¹ç›®åœ°å€githubåœ°å€ å®˜æ–¹æ–‡æ¡£ å®˜ç½‘çš„Guideä¹Ÿæ˜¯ç»™å‡ºäº†MediaRecorderçš„è¯¦ç»†ä½¿ç”¨ï¼Œä»¥åŠåœ¨ API 26 ä¸­æ–°å¢çš„ MediaMuxer to record multiple channels ã€‚ æ¯’é¸¡æ±¤ å°†æ¥çš„ä½ ä¸€å®šä¼šæ„Ÿè°¢ç°åœ¨æ‹¼å‘½çš„è‡ªå·±ï½]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€‰æ‹©åˆ—è¡¨è¯·å¯¹CheckBoxè¯´No]]></title>
    <url>%2F2018%2F01%2F05%2F%E9%80%89%E6%8B%A9%E5%88%97%E8%A1%A8%E8%AF%B7%E5%AF%B9CheckBox%E8%AF%B4No%2F</url>
    <content type="text"><![CDATA[ç”±æ¥ æˆ‘è®°å¾—åˆšå­¦ä¹ Androidçš„æ—¶å€™ï¼Œæœ‰ä¸ªéœ€æ±‚æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œåšä¸€ä¸ªå•é€‰æˆ–è€…å¤šé€‰çš„é€‰æ‹©åˆ—è¡¨ã€‚ç„¶åé‚£ä¸ªæ—¶å€™æ‡‚å¾—ä¸æ˜¯å¾ˆå¤šï¼Œå°±ç”¨CheckBoxå»åšã€‚åšæ¥åšå»ï¼Œå‘ç°å¾ˆå¤šçš„å‘ï¼Œæ¯”å¦‚æ§ä»¶ä¼šè¢«é‡ç”¨ï¼Œå¯¼è‡´é€‰ä¸­çš„çŠ¶æ€ä¹Ÿè¢«é‡ç”¨äº†ã€‚åæ¥éšç€è‡ªå·±æ¥è§¦çš„ä¸œè¥¿å˜å¤šï¼Œæƒ³åˆ°ç”¨å¦å¤–ä¸€ç§æ–¹å¼æ¥å®ç°é€‰æ‹©åˆ—è¡¨ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„åŸå› ã€‚ä¸»è¦åŸå› æ˜¯æœ€è¿‘åœ¨çœ‹åŒäº‹å†™çš„ä»£ç (æˆ‘ä»¬æ˜¯ä¸¤ä¸ªäººåœ¨å¼€å‘)çš„æ—¶å€™ï¼Œå‘ç°é€‰æ‹©åˆ—è¡¨è¿˜æ˜¯ç”¨çš„CheckBoxï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦åˆ†äº«ä¸‹è‡ªå·±çš„å®ç°æ–¹å¼ï¼Œå½“ç„¶å¦‚æœä½ ä»¬æœ‰ä»€ä¹ˆå¥½çš„å»ºè®®è®°å¾—åŠæ—¶å‘Šè¯‰æˆ‘ã€‚ å®ç°æ–¹å¼ æ¥ä¸‹æ¥æˆ‘å°±è¯´ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•å®ç°é€‰æ‹©åˆ—è¡¨çš„(æ¬¢è¿å¤§å®¶æ¥åæ§½)ã€‚å…ˆæ¥ä¸€å¼ æ•ˆæœå›¾ï¼Œæ¯”è¾ƒç®€å•ã€‚githubé¡¹ç›®åœ°å€ level-list å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»è¯·æˆ³è¿™é‡Œã€‚å®ƒå¯ä»¥é€šè¿‡ä¸€äº›å€¼æ¥ç®¡ç†ä¸€ç³»åˆ—çš„å›¾ç‰‡ï¼Œç„¶åé€šè¿‡levelå±æ€§ä¿®æ”¹è¿™äº›å€¼åå°±ä¼šæ˜¾ç¤ºå¯¹åº”çš„å›¾ç‰‡ã€‚ ä¸¾ä¸ªæ —å­ å› ä¸ºæ˜¯é€‰æ‹©åˆ—è¡¨ï¼Œé‚£å¿…ç„¶ä¼šæœ‰ä¸¤å¼ å›¾ç‰‡ï¼Œä¸€å¼ æ˜¯æœªé€‰ä¸­çš„ï¼Œæˆ‘ä»¬è®°ä¸ºic_select_offï¼Œä¸€å¼ æ˜¯é€‰ä¸­çš„ï¼Œæˆ‘ä»¬è®°ä¸ºic_select_onã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨drawableæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªlevel_list_common_select.xmlçš„èµ„æºæ–‡ä»¶ã€‚å…·ä½“ä»£ç å¦‚ä¸‹123456789101112&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;level-list xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;item android:drawable="@mipmap/ic_select_off" android:maxLevel="0"/&gt; &lt;item android:drawable="@mipmap/ic_select_on" android:maxLevel="1"/&gt;&lt;/level-list&gt; å¸ƒå±€æ–‡ä»¶ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯´è¯´å¸ƒå±€æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸ä¼šç”¨åˆ°CheckBoxï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ImageViewæ¥é¡¶æ›¿CheckBoxï¼Œå¤§è‡´å¦‚ä¸‹æ‰€ç¤ºã€‚123456789101112131415161718192021222324252627282930&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="50dp" android:background="#ffffff" android:orientation="horizontal" android:paddingLeft="12dp" android:paddingRight="12dp"&gt; &lt;ImageView android:id="@+id/selectStatusIv" android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center_vertical" android:src="@drawable/level_list_common_select"/&gt; &lt;TextView android:id="@+id/selectTitleTv" android:layout_width="match_parent" android:layout_height="match_parent" android:ellipsize="end" android:gravity="center_vertical" android:lines="1" android:paddingLeft="12dp" android:singleLine="true" android:textColor="#333333" android:textSize="16sp"/&gt;&lt;/LinearLayout&gt; è¿™é‡Œå¹¶æ²¡æœ‰å¤ªå¤šèŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ï¼Œåªæ˜¯ç”¨ä¸€ä¸ªImageViewæ›¿æ¢æ‰äº†CheckBoxã€‚ æ ¸å¿ƒé€»è¾‘ ä½ éœ€è¦æ‰¾ä¸€ä¸ªèƒ½å¤Ÿå”¯ä¸€æ ‡è®°è¿™ä¸ªé€‰é¡¹çš„å­—æ®µï¼Œæ¯”å¦‚idï¼Œè¿™ä¸ªå­—æ®µä¸€èˆ¬éƒ½ä¼šæœ‰ã€‚ç„¶åæˆ‘ä»¬çš„é€‚é…å™¨é‡Œé¢ä¼šå­˜æ”¾ä¸€ä¸ªselectIdï¼Œåœ¨æ¸²æŸ“Viewçš„æ–¹æ³•ä¸­æ ¡éªŒå½“å‰é¡¹çš„idæ˜¯å¦å’Œé€‰ä¸­çš„idæ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™å°†levelè®¾ç½®ä¸º1ï¼Œå¦åˆ™è®¾ç½®ä¸º0å°±å¯ä»¥äº†ã€‚12345678910111213141516171819202122232425262728package com.yanfangxiong.levellistimplementselectlistimport android.content.Contextimport android.view.Viewimport com.guoshujinfu.mobile.gscloud.migration.adapter.CommonListAdapterimport kotlinx.android.synthetic.main.listitem_select.view.*/** * @author fxYan */class SelectListAdapter( context: Context, resId: Int, data: List&lt;SelectBean&gt;) : CommonListAdapter&lt;SelectBean&gt;(context, resId, data) &#123; private var selectId: Long? = null fun setSelected(selectId: Long) &#123; this.selectId = selectId &#125; override fun bindData(view: View, position: Int, data: SelectBean) &#123; view.selectStatusIv.drawable.level = if (data.id == selectId) 1 else 0 view.selectTitleTv.text = data.title &#125;&#125; è¿™é‡Œç”¨çš„kotlinç¼–å†™çš„ï¼ŒCommonListAdapterå¯ä»¥å»çœ‹ä¹‹å‰å†™çš„ç”¨kotlinå°è£…çš„é€‚é…å™¨ã€‚è¿™æ ·è¿™ä¸ªå•é€‰çš„é€»è¾‘å°±å†™å®Œäº†ã€‚å—¯ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œä¸ç”¨å…³å¿ƒCheckBoxé‡ç”¨å¯¼è‡´çš„çŠ¶æ€å¤ç”¨é—®é¢˜ã€‚ æ€»ç»“ å¦‚æœæˆ‘ä¸å»æ€è€ƒè¯¥å¦‚ä½•ç®€åŒ–ï¼Œé‚£æˆ‘æ°¸è¿œéƒ½åªæ˜¯æ­»æ¿çš„ç”¨CheckBoxæ¥å®Œæˆé€‰æ‹©åˆ—è¡¨ã€‚æ‰€ä»¥ï¼Œè¦å­¦ä¼šæ€è€ƒï¼Œåªæ ¹æ®äº§å“ç»™çš„éœ€æ±‚å®Œæˆç›¸åº”çš„ä»»åŠ¡é‚£æ˜¯ä¸€ä¸ªåˆçº§ç¨‹åºçŒ¿åšçš„äº‹æƒ…ã€‚æ—¥å­è¿˜é•¿ï¼Œåˆ«å¤ªå¤±æœ›~]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ‰è¶£çš„kotlinå°è£…Listé€‚é…å™¨]]></title>
    <url>%2F2017%2F12%2F25%2F%E6%9C%89%E8%B6%A3%E7%9A%84kotlin%E5%B0%81%E8%A3%85List%E9%80%82%E9%85%8D%E5%99%A8%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æœ€è¿‘åœ¨è¿ç§»Cç«¯é¡¹ç›®åˆ°Bç«¯ï¼Œç„¶åæœ‰å¾ˆå¤šåŠŸèƒ½ç‚¹å¯¹äºBç«¯æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æ‰“ç®—åœ¨è¿ç§»çš„è¿‡ç¨‹ä¸­ï¼Œç”¨kotlinå»é‡æ–°å†™ä¸€éã€‚æœ€è¿‘è¿™å‡ å¤©å¿™ç€å†™é¡¹ç›®ï¼Œæ‰€ä»¥æ²¡æœ‰æŠ½å‡ºä»€ä¹ˆæ—¶é—´æ¥å†™åšå®¢ï¼Œä½†æ˜¯å†™åšå®¢è¿™ä¹ˆå¥½çš„ä¹ æƒ¯å¾—å…»æˆï¼Œå†³å®šä»¥åæ¯å‘¨è‡³å°‘å†™ä¸€ç¯‡åšå®¢ã€‚ æ²¡æœ‰ä½¿ç”¨kotlinçš„é€‚é…å™¨ å› ä¸ºListViewçš„é€‚é…å™¨ç”¨kotlinå°è£…èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æš‚æ—¶å…ˆå†™å…³äºListViewçš„ï¼Œåç»­æƒ³å¥½æ€ä¹ˆå»å†™RecyclerViewçš„é€‚é…å™¨çš„æ—¶å€™å†è¡¥ä¸Šã€‚åœ¨æ²¡æœ‰ä½¿ç”¨kotlinä¹‹å‰ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­çš„é€‚é…å™¨æ˜¯è¿™æ ·å°è£…çš„ï¼Œåˆ†æˆäº†ä¸¤ä¸ªæ–‡ä»¶ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687public abstract class CommonListAdapter&lt;T&gt; extends BaseAdapter &#123; protected Context mContext; protected int mResId; protected List&lt;T&gt; mData; public CommonListAdapter(@NonNull Context context, @LayoutRes int resId, @NonNull List&lt;T&gt; data) &#123; this.mContext = context; this.mResId = resId; this.mData = data; &#125; @Override public int getCount() &#123; return mData.size(); &#125; @Override public Object getItem(int position) &#123; return mData.get(position); &#125; @Override public long getItemId(int position) &#123; return position; &#125; @Override public View getView(int position, View convertView, ViewGroup parent) &#123; CommonViewHolder holder = CommonViewHolder.getHolder(mContext, mResId, position, convertView, parent); bindData(holder, mData.get(position)); return holder.getConvertView(); &#125; /** * æ•°æ®ç»‘å®š * * @param holder ViewHolderå¯¹è±¡ * @param t è¦ç»‘å®šçš„æ•°æ®å¯¹è±¡ */ public abstract void bindData(@NonNull CommonViewHolder holder, @NonNull T t);&#125;public class CommonViewHolder &#123; private SparseArray&lt;View&gt; mViews; private LayoutInflater mLayoutInflater; private View convertView; private int position; private CommonViewHolder(Context context, int resId, int position, ViewGroup parent) &#123; mViews = new SparseArray&lt;&gt;(); mLayoutInflater = LayoutInflater.from(context); convertView = mLayoutInflater.inflate(resId, parent, false); convertView.setTag(this); this.position = position; &#125; public static CommonViewHolder getHolder(Context context, int resId, int position, View convertView, ViewGroup parent) &#123; CommonViewHolder holder = null; if (convertView == null) &#123; holder = new CommonViewHolder(context, resId, position, parent); &#125; else &#123; holder = (CommonViewHolder) convertView.getTag(); holder.position = position; &#125; return holder; &#125; public View getConvertView() &#123; return convertView; &#125; public int getPosition() &#123; return position; &#125; public &lt;T extends View&gt; T get(int viewId) &#123; View view = mViews.get(viewId); if (view == null) &#123; view = convertView.findViewById(viewId); mViews.put(viewId, view); &#125; return (T) view; &#125;&#125; æ¯æ¬¡åªéœ€è¦é‡å†™bindDataæ–¹æ³•å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœlistitemå¸ƒå±€ä¸­çš„æ§ä»¶å¤šèµ·æ¥ï¼Œè¿˜æ˜¯å¾—è°ƒç”¨getæ–¹æ³•å¾ˆå¤šæ¬¡ã€‚æœ€è¿‘å­¦ä¹ äº†kotlinä¹‹åï¼Œåœ¨è¿ç§»ä¸­ï¼Œæˆ‘å‘ç°ï¼Œè¯¶ï¼Œå±…ç„¶å¯ä»¥è¿™ä¹ˆç©ã€‚è¯·çœ‹ä¸‹é¢çš„æ —å­ã€‚ ä½¿ç”¨kotlinåçš„é€‚é…å™¨ å¯èƒ½æ˜¯å•èº«é™åˆ¶äº†æˆ‘çš„æƒ³è±¡åŠ›ã€‚å®ƒå±…ç„¶å¯ä»¥è¿™ä¹ˆç®€æ´ï¼Œç®€æ´ï¼Œç®€æ´ã€‚1234567891011121314151617181920abstract class CommonListAdapter&lt;T&gt;( var context: Context, @LayoutRes var resId: Int, var data: List&lt;T&gt;) : BaseAdapter() &#123; override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View &#123; val view = convertView ?: LayoutInflater.from(context).inflate(resId, parent, false) bindData(view, position, getItem(position)) return view &#125; override fun getItem(position: Int): T = data[position] override fun getItemId(position: Int): Long = position.toLong() override fun getCount(): Int = data.size abstract fun bindData(view: View, position: Int, data: T)&#125; æ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œå°±æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚ç„¶ååœ¨ä½ çš„build.gradleæ–‡ä»¶ä¸­å¢åŠ ä¸Šè¿™ä¸ªæ’ä»¶ã€‚1apply plugin: 'kotlin-android-extensions' ç„¶åä½ å°±å¯ä»¥ä»»æ€§çš„ç©è€äº†ã€‚æ¯”å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªå¸ƒå±€123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="60dp" android:background="#ffffff" android:orientation="horizontal"&gt; &lt;TextView android:id="@+id/repayDateTv" android:layout_width="0dp" android:layout_height="match_parent" android:layout_weight="1" android:gravity="center_vertical" android:lineSpacingExtra="6dp" android:paddingLeft="12dp" android:paddingRight="10dp" android:textColor="#646464" android:textSize="12sp" tools:text="2017-10-10\n12:00"/&gt; &lt;TextView android:id="@+id/repayAmountTv" android:layout_width="0dp" android:layout_height="match_parent" android:layout_weight="1" android:gravity="center" android:textColor="#333333" android:textSize="14sp" tools:text="1000.00"/&gt; &lt;TextView android:id="@+id/statusTv" android:layout_width="0dp" android:layout_height="match_parent" android:layout_weight="1" android:gravity="center" android:paddingLeft="10dp" android:paddingRight="12dp" android:textColor="#333333" android:textSize="14sp" tools:text="å¤„ç†ä¸­"/&gt;&lt;/LinearLayout&gt; é€‚é…å™¨å°±åªæœ‰è¿™ä¹ˆå‡ è¡Œä»£ç å°±å¯ä»¥è§£å†³äº†ã€‚12345678910111213class RepayRecordAdapter( context: Context, resId: Int, data: List&lt;RepayRecordListRespBean&gt;) : CommonListAdapter&lt;RepayRecordListRespBean&gt;(context, resId, data) &#123; override fun bindData(view: View, position: Int, data: RepayRecordListRespBean) &#123; view.repayDateTv.text = data.getSeparateTime() view.repayAmountTv.text = data.moneyOrder view.statusTv.text = data.getStatusText() &#125;&#125; è¯´çœŸçš„ï¼Œæˆ‘å·²ç»é€æ¸çˆ±ä¸Šè¿™é—¨è¯­è¨€äº†ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kotlinä¹‹é›†åˆçš„æƒ°æ€§æ“ä½œ]]></title>
    <url>%2F2017%2F12%2F16%2Fkotlin%E4%B9%8B%E9%9B%86%E5%90%88%E7%9A%84%E6%83%B0%E6%80%A7%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[å‰è¨€ æœ€è¿‘åœ¨å­¦ä¹ kotlinçš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ª éªšæ“ä½œ ï¼Œå®ƒå«é›†åˆçš„æƒ°æ€§æ“ä½œã€‚ä»€ä¹ˆï¼Œä½ é—®æˆ‘ä¸ºä»€ä¹ˆç§°å®ƒ éªš ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œåæ­£è„‘æµ·ä¸­å°±æµ®ç°äº†è¿™ä¹ˆä¸ªè¯è¯­ï¼å¯èƒ½æ˜¯è´«ç©·é™åˆ¶äº†æˆ‘çš„æƒ³è±¡åŠ›ï¼ ä¸¾ä¸ªæ —å­ æ¯”å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œä½ æ˜¯ä¸€å®¶çŒå¤´å…¬å¸çš„äººå‘˜(åˆ«é—®æˆ‘ä¸ºä»€ä¹ˆæ˜¯çŒå¤´ï¼Œå› ä¸ºæˆ‘çœ‹å®ŒçŒåœºäº†)ã€‚ç„¶åä½ éœ€è¦ä»ä¸€æ‰¹äººå‘˜ä¸­ç­›é€‰ç¬¦åˆæ¡ä»¶çš„äººé€‰ã€‚123456data class Person(var name: String, var age: Int = 0, var workYear: Int = 0, var mail: String?)val persons = listOf(Person("Tom", 20, 2, "Tom@mail.com"), Person("Mike", 22, 3, "Mike@mail.com"), Person("Jerry", 21, 3, "Jerry@mail.com"), Person("Atom", 22, 2, "Atom@mail.com")) ä½ éœ€è¦ç­›é€‰å‡ºå·¥ä½œå¹´é™ä¸å°äºï¼“å¹´çš„äººçš„è”ç³»æ–¹å¼ï¼Œç„¶åè”ç³»ä»–ä»¬å‡†å¤‡è¿›è¡Œé¢è¯•ã€‚1234567println(persons.filter &#123; println("filter operate!") it.workYear &gt;= 3&#125;.map &#123; println("map operate!") it.mail&#125;) ä¸Šé¢çš„ä»£ç ä¼šè¾“å‡ºå¦‚ä¸‹çš„ç»“æœï¼Œè¿™æ ·ä½ å°±æˆåŠŸçš„ç­›é€‰å‡ºäº†Mikeå’ŒJerryã€‚ å¦‚æœä½ ä¸äº†è§£ filter å’Œ map ä¸¤ä¸ªæ‰©å±•å‡½æ•°ï¼Œå¯ä»¥æŸ¥çœ‹æºç ä¸­çš„è¿™ä¸¤ä¸ªæ‰©å±•å‡½æ•°æ˜¯æ€ä¹ˆå†™çš„ _Collections.ktã€‚ä»è¾“å‡ºç»“æœä¸Šæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºå®ƒçš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼Œå…ˆå¯¹personsé›†åˆçš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨filterï¼Œç„¶åä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„é›†åˆï¼Œç„¶åå¯¹æ–°çš„é›†åˆè°ƒç”¨mapï¼Œè¿™æ ·å°±å¾—åˆ°äº†æ‰€æœ‰ç¬¦åˆæ¡ä»¶äººå‘˜çš„è”ç³»æ–¹å¼ã€‚ Sequenceåºåˆ— ä¸Šé¢å·²ç»è¯´æ˜äº†è¿™æ®µä»£ç çš„æ‰§è¡Œæµç¨‹ï¼Œå€˜è‹¥ä½ è¦ä»ä½ ä»¬æˆç™¾ä¸Šåƒä¸‡çš„äººæ‰åº“ä¸­ç­›é€‰è¿™äº›äººå‘˜ï¼Œæ‰§è¡Œæ•ˆç‡æ˜¯ä¸æ˜¯å°±éå¸¸ä½ä¸‹äº†ï¼Œè€Œä¸”å¦‚æœå˜æ¢æ“ä½œè¿‡å¤šçš„æ—¶å€™ï¼Œä½ ä¼šåˆ›å»ºå¾ˆå¤šä¸ªä¸´æ—¶çš„é›†åˆã€‚è¿™æ—¶å€™ï¼Œæƒ°æ€§æ“ä½œå°±å‡ºæ¥çš„ï¼Œè§£é‡Šæ’åï¼Œä»£ç å…ˆè¡Œï¼12345678910println("result is:" + persons.asSequence() .filter &#123; println("filter operate!") it.workYear &gt;= 3 &#125; .map &#123; println("map operate!") it.mail &#125; .toList()) ä¸Šé¢è¿™æ®µä»£ç è¾“å‡ºç»“æœæ˜¯è¿™æ ·çš„ã€‚ æˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å¤Ÿçœ‹å‡ºï¼Œå®ƒä¼šå¯¹personsä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å…ˆè°ƒç”¨filterï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶å†è°ƒç”¨mapï¼›å®ƒæ˜¯ä¸€ä¸ªå…ƒç´ æ“ä½œå®Œä¹‹åå†å¯¹å¦å¤–ä¸€ä¸ªå…ƒç´ åšæ“ä½œã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸€ä¸ªç¥å¥‡çš„ç°è±¡ï¼Œå…ˆæŠŠtoList()åˆ é™¤æ‰ï¼Œå®ƒä¼šè¾“å‡ºè¿™ä¸ªç»“æœã€‚ å¾ˆç¥å¥‡å§ï¼Œå®ƒæ²¡æœ‰å¯¹personsä¸­çš„å…ƒç´ åšä»»ä½•æ“ä½œï¼Œåªæ˜¯å•çº¯çš„è¿”å›äº†ä¸€ä¸ªTransformingSequenceçš„å¯¹è±¡ã€‚ åºåˆ—çš„æ“ä½œ æˆ‘ä»¬å¯ä»¥å°†åºåˆ—çš„æ“ä½œåˆ†ä¸ºä¸¤ç±»ï¼Œintermediate operation å’Œ terminal operation ã€‚çœ‹ä¸‹é¢è¿™å¼ å›¾ä½ å°±æ˜ç™½äº†ã€‚ intermediate operationæ˜¯æƒ°æ€§çš„ã€‚ä»ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰å½“terminal operationæ‰§è¡Œçš„æ—¶å€™ï¼Œintermediate operationæ‰ä¼šæ‰§è¡Œã€‚ æ€»ç»“ åºåˆ—æ˜¯å¯¹é›†åˆçš„æ¯ä¸€ä¸ªå…ƒç´ åšæ‰€æœ‰çš„æ“ä½œï¼Œè€Œæ²¡æœ‰ä½¿ç”¨åºåˆ—çš„æ—¶å€™æ˜¯å¯¹ä¸€ä¸ªé›†åˆåšå®ŒæŸä¸ªæ“ä½œåå†å¯¹æ–°çš„é›†åˆåšåç»­æ“ä½œï¼› åºåˆ—åªæœ‰åœ¨terminal operationè°ƒç”¨çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œæ‰€æœ‰çš„æ“ä½œã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>kotlin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidè¿è¡Œæ—¶æƒé™çš„å¤„ç†]]></title>
    <url>%2F2017%2F12%2F14%2FAndroid%E8%BF%90%E8%A1%8C%E6%97%B6%E6%9D%83%E9%99%90%E7%9A%84%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[å‰è¨€ Androidè¿è¡Œæ—¶æƒé™æœºåˆ¶ æ˜¯åœ¨ API 23(Android M) ä¸­æå‡ºæ¥çš„ï¼Œä»Šå¹´å·²ç»å‘å¸ƒäº†API 26ã€27(Android O)ï¼Œå·²ç»è¿‡å»å‡ ä¸ªç‰ˆæœ¬äº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘è¦å†™è¿™ä¸ªä¸œè¥¿ã€‚é¦–å…ˆï¼Œä»¥å‰åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†å›¾æ–¹ä¾¿ï¼Œåªæ˜¯ ç®€å•çš„å°†build.gradle ä¸­çš„ targetSdkVersion è®¾ç½®ä¸º 22ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæ²¡æœ‰å¤ªå¤šçš„å’Œè¿è¡Œæ—¶æƒé™æ‰“äº¤é“ï¼Œä½†æ˜¯éšç€è¿™ä¸ªäººå•Šè¶Šæ¥è¶Šè€( å¸… )ï¼Œè§‰å¾—ä¸åº”è¯¥èº²é¿æ–°çš„ä¸œè¥¿ï¼Œè€Œåº”è¯¥æ­£è§†å®ƒï¼Œä¸ç„¶è‡ªå·±çš„æŠ€æœ¯æ°¸è¿œéƒ½ä¸ä¼šå¾—åˆ°æé«˜ã€‚æ‰€ä»¥æœ€è¿‘æ‰“ç®—å°†targetSdkVersioné€æ¸å‡ä¸Šå»ï¼Œç©ç‚¹æ–°ä¸œè¥¿ã€‚ è¿™æ˜¯ä»€ä¹ˆ åœ¨ API 23 ä»¥å‰ï¼Œå¦‚æœç”¨æˆ·åœ¨å®‰è£…åº”ç”¨åï¼Œé»˜è®¤æ˜¯åŒæ„äº†åº”ç”¨æ‰€éœ€è¦çš„æƒé™(ä½†æ˜¯Androidå‚å•†ä¼—å¤šï¼Œä¹Ÿæœ‰å¾ˆå¤šæ‰‹æœºä¼šå¼¹çª—æç¤ºç”¨æˆ·æ˜¯å¦æˆäºˆæƒé™)ã€‚è€Œè¿è¡Œæ—¶æƒé™çš„åŠ å…¥ï¼Œç®€åŒ–äº†åº”ç”¨çš„å®‰è£…è¿‡ç¨‹ï¼Œå› ä¸ºç”¨æˆ·åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ä¸éœ€è¦æˆäºˆæƒé™ï¼Œè€Œåœ¨åº”ç”¨çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦æˆäºˆåº”ç”¨ç›¸å…³çš„æƒé™ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œç”¨æˆ·å¯ä»¥ä¸ºç›¸æœºæä¾›ç›¸æœºè®¿é—®æƒé™ï¼Œä½†æ˜¯ä¸æä¾›ä½ç½®çš„è®¿é—®æƒé™ã€‚ æƒé™åˆ†ç±» ç³»ç»Ÿæƒé™åˆ†ä¸ºä¸¤ç±»ï¼šNormal Permission å’Œ Dangerous Permissionâ€ ï¼Œå‰è€… ä¸ä¼šç›´æ¥ç»™ç”¨æˆ·çš„éšç§å¸¦æ¥é£é™© ï¼Œæ‰€ä»¥å¦‚æœä½ çš„appåœ¨Manifestæ–‡ä»¶ä¸­åˆ—å‡ºäº†åº”ç”¨éœ€è¦è¿™äº›æƒé™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨èµ‹äºˆè¯¥æƒé™ã€‚åè€… ä¼šèµ‹äºˆappè®¿é—®ç”¨æˆ·éšç§æ•°æ®çš„æƒé™ï¼Œæ˜¯æœ‰å¯èƒ½å¯¹ç”¨æˆ·éšç§é€ æˆé£é™©çš„ ã€‚æ‰€ä»¥å¦‚æœä½ çš„appåœ¨Manifestæ–‡ä»¶ä¸­åˆ—å‡ºäº†è¿™äº›æƒé™ï¼Œåˆ™è¿™äº› æƒé™çš„æˆäºˆæ˜¯ç”±ç”¨æˆ·å†³å®šçš„ ã€‚ å¦‚ä½•ä½¿ç”¨ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹æ¥ç©è¿è¡Œæ—¶æƒé™äº†ã€‚ æ£€æµ‹æƒé™ å¦‚æœä½ çš„appéœ€è¦ Dangerous Permission ï¼Œåˆ™æ¯æ¬¡æ‰§è¡Œéœ€è¦è¿™ä¸€æƒé™æ“ä½œçš„æ—¶å€™éƒ½åº”è¯¥æ£€æµ‹è‡ªå·±æ˜¯å¦å…·æœ‰è¯¥æƒé™ï¼Œå› ä¸ºç”¨æˆ·å§‹ç»ˆå¯ä»¥è‡ªç”±çš„è°ƒç”¨æ­¤æƒé™ã€‚æ£€æµ‹çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä½†æ˜¯æºç æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ç©¿äº†ä¸ªä¸åŒçš„å¤–å¥—è€Œå·²ã€‚12345678int cameraPermissionState = ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA);cameraPermissionState = ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA);//åˆ¤æ–­æƒé™æ˜¯å¦æˆäºˆif (cameraPermissionState == PermissionChecker.PERMISSION_GRANTED) &#123; //...å·²ç»å…·æœ‰è¯¥æƒé™ï¼Œä½ å¯ä»¥åšä¸€äº›ç¾ç¾çš„äº‹æƒ…äº†&#125; else &#123; //...æ²¡æœ‰æƒé™ï¼Œè¿™ä¸ªæ—¶å€™ä½ éœ€è¦è·å–è¯¥æƒé™äº†&#125; è¯·æ±‚æƒé™ Androidæä¾›äº†å¤šç§æƒé™è¯·æ±‚æ–¹å¼ï¼Œè°ƒç”¨è¿™äº›æ–¹æ³•å°†ä¼šæ˜¾ç¤ºä¸€ä¸ªæ— æ³•è‡ªå®šä¹‰çš„Androidå¯¹è¯æ¡†ã€‚ä½ å¯ä»¥è°ƒç”¨ requestPermission() æ–¹æ³•æ¥è¯·æ±‚ä½ æ‰€éœ€è¦çš„æƒé™ã€‚1ActivityCompat.requestPermissions(this, new String[]&#123;Manifest.permission.CAMERA&#125;, REQUEST_CAMERA_PERMISSION); å¤„ç†æƒé™è¯·æ±‚å“åº” å½“ç”¨æˆ·å“åº”æƒé™å¼¹çª—çš„æ—¶å€™ï¼Œç³»ç»Ÿå°†å›è°ƒ onRequestPermissionsResult() æ–¹æ³•ï¼Œå‘ŠçŸ¥ç”¨æˆ·çš„å“åº”æƒ…å†µã€‚æ‰€ä»¥æˆ‘ä»¬å¿…é¡»é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚ä¸‹ã€‚1234567if (requestCode == REQUEST_CAMERA_PERMISSION) &#123; if (grantResults.length == 1 &amp;&amp; grantResults[0] == PermissionChecker.PERMISSION_GRANTED) &#123; //...ç”¨æˆ·å…è®¸ç›¸æœºè®¿é—®æƒé™ï¼Œä½ å¯ä»¥åšä¸€äº›ç¾ç¾çš„äº‹æƒ…äº† &#125; else &#123; //...ç”¨æˆ·æ‹’ç»äº†ç›¸æœºè®¿é—®æƒé™ &#125;&#125; æ³¨æ„ï¼Œç³»ç»Ÿæ˜¾ç¤ºçš„æƒé™å¼¹çª—æ˜¯å¯¹äº æƒé™ç»„ è€Œè¨€çš„ï¼Œå®ƒä¸ä¼šåˆ—å‡ºappéœ€è¦çš„å…·ä½“æƒé™ã€‚æ¯”å¦‚ï¼Œappæƒ³è¦READ_CONTACTSæƒé™ï¼Œç³»ç»Ÿä¼šå‘Šè¯‰ç”¨æˆ·appæƒ³è¦è®¿é—®è®¾å¤‡çš„è”ç³»äººã€‚åŒæ—¶ï¼Œç”¨æˆ·åªéœ€è¦ä¸ºæ¯ä¸ªæƒé™ç»„æˆäºˆä¸€æ¬¡æƒé™ï¼Œå¦‚æœåº”ç”¨è¯·æ±‚è¯¥æƒé™ç»„ä¸­çš„ä»»ä½•å…¶ä»–æƒé™ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æˆäºˆåº”ç”¨è¿™äº›æƒé™ ã€‚å…·ä½“è¿‡ç¨‹æ˜¯ä½ åœ¨ requestPermissions() æ–¹æ³•ä¹‹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›è°ƒ onRequestPermissionsResult() æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ PERMISSION_GRANTED ã€‚ æƒé™ç»„ ä½ å¯èƒ½ä¼šè¯¢é—®æƒé™ç»„åˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œæ˜¯çš„ï¼Œæˆ‘ä¹Ÿé—®è¿‡è‡ªå·±ã€‚æ‰€æœ‰çš„Dangerous Permissionéƒ½å±äºæƒé™ç»„ã€‚ å¦‚æœåº”ç”¨è¯·æ±‚å…¶æ¸…å•ä¸­åˆ—å‡ºçš„å±é™©æƒé™ï¼Œè€Œåº”ç”¨ç›®å‰åœ¨æƒé™ç»„ä¸­æ²¡æœ‰ä»»ä½•æƒé™ï¼Œåˆ™ç³»ç»Ÿä¼šå‘ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæè¿°åº”ç”¨è¦è®¿é—®çš„æƒé™ç»„ã€‚å¯¹è¯æ¡†ä¸æè¿°è¯¥ç»„å†…çš„å…·ä½“æƒé™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨è¯·æ±‚ READ_CONTACTS æƒé™ï¼Œç³»ç»Ÿå¯¹è¯æ¡†åªè¯´æ˜è¯¥åº”ç”¨éœ€è¦è®¿é—®è®¾å¤‡çš„è”ç³»ä¿¡æ¯ã€‚å¦‚æœç”¨æˆ·æ‰¹å‡†ï¼Œç³»ç»Ÿå°†å‘åº”ç”¨æˆäºˆå…¶è¯·æ±‚çš„æƒé™ã€‚ å¦‚æœåº”ç”¨è¯·æ±‚å…¶æ¸…å•ä¸­åˆ—å‡ºçš„å±é™©æƒé™ï¼Œè€Œåº”ç”¨åœ¨åŒä¸€æƒé™ç»„ä¸­å·²æœ‰å¦ä¸€é¡¹å±é™©æƒé™ï¼Œåˆ™ç³»ç»Ÿä¼šç«‹å³æˆäºˆè¯¥æƒé™ï¼Œè€Œæ— éœ€ä¸ç”¨æˆ·è¿›è¡Œä»»ä½•äº¤äº’ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸåº”ç”¨å·²ç»è¯·æ±‚å¹¶ä¸”è¢«æˆäºˆäº† READ_CONTACTS æƒé™ï¼Œç„¶åå®ƒåˆè¯·æ±‚ WRITE_CONTACTSï¼Œç³»ç»Ÿå°†ç«‹å³æˆäºˆè¯¥æƒé™ã€‚ ä»»ä½•æƒé™éƒ½å¯å±äºä¸€ä¸ªæƒé™ç»„ï¼ŒåŒ…æ‹¬æ­£å¸¸æƒé™å’Œåº”ç”¨å®šä¹‰çš„æƒé™ã€‚ä½†æƒé™ç»„ä»…å½“æƒé™å±é™©æ—¶æ‰å½±å“ç”¨æˆ·ä½“éªŒã€‚å¯ä»¥å¿½ç•¥æ­£å¸¸æƒé™çš„æƒé™ç»„ã€‚ä»»ä½•æƒé™éƒ½å¯å±äºä¸€ä¸ªæƒé™ç»„ï¼ŒåŒ…æ‹¬æ­£å¸¸æƒé™å’Œåº”ç”¨å®šä¹‰çš„æƒé™ã€‚ä½†æƒé™ç»„ä»…å½“æƒé™å±é™©æ—¶æ‰å½±å“ç”¨æˆ·ä½“éªŒã€‚å¯ä»¥å¿½ç•¥æ­£å¸¸æƒé™çš„æƒé™ç»„ã€‚æ‚¨å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ ã€‚ æˆ‘å°±çŸ¥é“ä½ æ‡’ï¼Œç»™ä½ æˆªå›¾äº†ã€‚å¦‚æœä½ æƒ³çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå°±çœ‹çœ‹ä¸‹é¢çš„å›¾ã€‚ å‘Šè¯‰ç”¨æˆ·ä½ ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæƒé™ å½“ç”¨æˆ·é€‰æ‹©å•æ¬¡æ‹’ç»æƒé™çš„æ—¶å€™ï¼Œä½ å†æ¬¡è¯·æ±‚è¯¥æƒé™ï¼Œå¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ä¸ºä»€ä¹ˆä½ çš„appéœ€è¦è¿™äº›æƒé™ï¼Œä»¥ä¾¿è®©ç”¨æˆ·ç†è§£è¿™äº›æƒé™çš„ä½œç”¨ã€‚ç³»ç»Ÿä¹Ÿæä¾›äº†å¯¹åº”çš„æ–¹æ³• ActivityCompat.shouldShowRequestPermissionRationale() ã€‚å¦‚æœappä¹‹å‰è¯·æ±‚è¿‡æ­¤æƒé™ï¼Œå¹¶ä¸”ç”¨æˆ·æ‹’ç»äº†è¯·æ±‚è¿™ä¸ªæ–¹æ³•å°±ä¼šè¿”å›trueã€‚å¦‚æœappä¹‹å‰è¯·æ±‚è¿‡æ­¤æƒé™ï¼Œå¹¶ä¸”ç”¨æˆ·å‹¾é€‰äº†â€ç¦æ­¢åä¸å†è¯¢é—®â€ï¼Œè¿™ä¸ªæ–¹æ³•å°†è¿”å›falseã€‚ ä¸€æ¬¡å®Œæ•´çš„æƒé™è¯·æ±‚ åŠ¨æ€æƒé™çš„ç›¸å…³å…¶å®å¹¶æ²¡æœ‰å¤šå°‘ï¼Œæ¥çœ‹çœ‹ä¸€æ®µå®Œæ•´çš„è¯·æ±‚CAMERAæƒé™çš„ç¤ºä¾‹ã€‚123456789101112131415161718192021222324252627282930313233343536private void checkPermission()&#123; if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PermissionChecker.PERMISSION_GRANTED) &#123; //...å¼€å§‹åšç¾ç¾çš„äº‹æƒ… &#125; else &#123; requestCameraPermission(); &#125;&#125;private void requestCameraPermission() &#123; if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) &#123; new AlertDialog.Builder(this) .setMessage("éœ€è¦è¯·æ±‚ç›¸æœºè®¿é—®æƒé™ä»¥ä¾¿è¿›è¡Œé¢„è§ˆï¼Œæ‹æ‘„") .setPositiveButton("å¥½çš„", new DialogInterface.OnClickListener() &#123; @Override public void onClick(DialogInterface dialog, int which) &#123; ActivityCompat.requestPermissions(MainActivity.this, new String[]&#123;Manifest.permission.CAMERA&#125;, PERMISSION_REQUEST_CAMERA); &#125; &#125;) .create() .show(); &#125; else &#123; ActivityCompat.requestPermissions(this, new String[]&#123;Manifest.permission.CAMERA&#125;, PERMISSION_REQUEST_CAMERA); &#125;&#125;@Overridepublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) &#123; if (requestCode == PERMISSION_REQUEST_CAMERA) &#123; if (grantResults.length == 1 &amp;&amp; grantResults[0] == PermissionChecker.PERMISSION_GRANTED) &#123; //...åˆå¯ä»¥åšç¾ç¾çš„äº‹æƒ…äº† &#125; &#125;&#125; ä½ è¯¥çŸ¥é“çš„ 1. å½“ç³»ç»Ÿè¦æ±‚ç”¨æˆ·æˆäºˆæƒé™æ—¶ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æŒ‡ç¤ºç³»ç»Ÿä¸å†è¦æ±‚æä¾›è¯¥æƒé™ ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ— è®ºåº”ç”¨åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ requestPermissions() å†æ¬¡è¦æ±‚è¯¥æƒé™ï¼Œç³»ç»Ÿéƒ½ä¼šç«‹å³æ‹’ç»æ­¤è¯·æ±‚ã€‚ç³»ç»Ÿ ä¼šè°ƒç”¨æ‚¨çš„ onRequestPermissionsResult() å›è°ƒæ–¹æ³•ï¼Œå¹¶ä¼ é€’ PERMISSION_DENIED ï¼Œå¦‚æœç”¨æˆ·å†æ¬¡æ˜ç¡®æ‹’ç»äº†æ‚¨çš„è¯·æ±‚ï¼Œç³»ç»Ÿå°†é‡‡ç”¨ç›¸åŒæ–¹å¼æ“ä½œã€‚ 2. è¦æ´»ç”¨ shouldShowRequestPermissionRationale() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ç”¨æˆ·æ‹’ç»è¿‡æŸä¸ªæƒé™çš„è¯·æ±‚(ä½†ä¸æ˜¯ç¦æ­¢åä¸å†è¯¢é—®)åä¼šè¿”å›trueï¼Œç„¶åä½ å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­åšä¸€äº›å¯¹è¯¥æƒé™çš„è§£é‡Šï¼Œä»¥ä¾¿ç”¨æˆ·æ›´äº†è§£ä¸ºä»€ä¹ˆéœ€è¦æˆäºˆè¯¥æƒé™ã€‚]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡´æ•¬2017ï¼Œå…³äºä»¥å]]></title>
    <url>%2F2017%2F12%2F14%2F%E8%87%B4%E6%95%AC2017%EF%BC%8C%E5%85%B3%E4%BA%8E%E4%BB%A5%E5%90%8E%2F</url>
    <content type="text"><![CDATA[ç”±æ¥ ä»Šå¤©ä»äººäº‹é‚£é‡Œè¦åˆ°äº†å¹´ä¼šæ‹æ‘„çš„å…¨éƒ¨ç…§ç‰‡ï¼Œçœ‹åˆ°è‡ªå·±çš„ç…§ç‰‡å·²ç»å¯ä»¥å¼„æˆä¸€ä¸ªè¡¨æƒ…åŒ…è¿˜æ˜¯æŒºæ„å¤–çš„ã€‚ä¸è¿‡æ›´è®©æˆ‘æ„å¤–çš„æ˜¯ï¼Œæœ‰äº›ç…§ç‰‡æˆ‘ç«Ÿç„¶ä¸€ç‚¹è®°å¿†ç‰‡æ®µéƒ½æ²¡æœ‰ï¼Œä¸ºä»€ä¹ˆï¼Œå› ä¸ºå–é†‰äº†ï¼Œå–é†‰äº†ï¼Œå–é†‰äº†ï¼ï¼ï¼æ˜¯çš„ï¼Œä½ æ²¡æœ‰çŒœé”™ï¼Œå†™è¿™ç¯‡æ–‡ç« åªæ˜¯æƒ³å‘Šè¯‰è‡ªå·±ä»¥åä¸èƒ½èƒ¡æ¥ï¼Œæœ‰äº›äº‹æƒ…è¯¥åšï¼Œä½†æ˜¯ä¹Ÿè¦æœ‰åº•çº¿ã€‚ å…³äº2017 è‡ª2016å¹´6æœˆå¤§å­¦æ¯•ä¸šä»¥æ¥ï¼Œè¿™æ˜¯æˆ‘å·¥ä½œçš„ç¬¬ä¸€ä¸ªå®Œæ•´å¹´å¤´ï¼Œä»16å¹´8æœˆ23å·ä»1å·åº—è¾èŒï¼Œ9æœˆ8å·æ¥åˆ°æ­å·ï¼Œåˆ°10æœˆ17æ—¥å…¥èŒæœæ ‘ä»¥æ¥ï¼Œå·²ç»è¿‡å»1ä¸ªå¤šå¹´å¤´ï¼Œåœ¨æ­¤ç»å†äº†å¾ˆå¤šæœ‰æ„æ€çš„äº‹æƒ…ï¼Œé‡åˆ°äº†å¾ˆå¤šæœ‰æ„æ€çš„äººï¼Œä¹Ÿåšäº†äººç”Ÿç¬¬ä¸€æ¬¡è¡¨ç™½ï¼å—¯ï¼Œæ˜¯çš„ï¼Œç¬¬ä¸€æ¬¡ï¼Œä½ æ²¡å¬é”™ã€‚è™½ç„¶è®²ç»™æœ‹å‹å¬çš„æ—¶å€™ï¼Œä»–ä»¬è¯´æˆ‘å¾ˆè ¢ï¼Œè¡¨ç™½è¿™ç§äº‹æƒ…åº”è¯¥å½“é¢è¯´ï¼Œæ€ä¹ˆèƒ½å¤Ÿåœ¨æ‰‹æœºä¸Šè¯´å‘¢ï¼Œå“ˆå“ˆï¼Œä½†æ˜¯å¯¹äºæˆ‘æ¥è¯´ï¼Œè‡³å°‘æ˜¯è·¨å‡ºè¿‡ç¬¬ä¸€æ­¥ï¼å—¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå€¼å¾—å›å¿†çš„äº‹æƒ…(è™½ç„¶æœ‰æ—¶å€™æˆ‘ç¡®å®ä¸å¤ªä¼šè¡¨è¾¾è‡ªå·±å†…å¿ƒçš„æƒ³æ³•)ã€‚è¿™ä¸€ä¸ªå¹´å¤´ï¼Œè‡ªå·±çš„æŠ€æœ¯è™½ç„¶æ²¡æœ‰å¾—åˆ°çªé£çŒ›è¿›çš„å¢é•¿ï¼Œä½†æ˜¯å¤šå¤šå°‘å°‘è¿˜æ˜¯æœ‰ä¸€å®šçš„æé«˜çš„ã€‚ åæ€ 1. å–é…’è¯¯äº‹ï¼Œè¿™å¥è¯ä½ å·²ç»ä½“éªŒè¿‡ä¸¤æ¬¡äº†ï¼›ä¸€æ¬¡æ˜¯åœ¨16å¹´çš„ä¸€æ¬¡å…¬å¸èšä¼šä¸Šï¼Œçº¢é…’æºæ‚ç€å•¤é…’å’Œç™½é…’ï¼Œå¯¼è‡´å†æ¬¡é†’æ¥çš„æ—¶å€™èººåœ¨åŒ»é™¢çš„ç—…åºŠä¸ŠæŒ‚ç€è‘¡è„ç³–ï¼›ä¸€æ¬¡æ˜¯åˆšåˆšè¿‡å»çš„çš„å¹´ä¼šï¼Œä½†æ˜¯è¿™æ¬¡å´æ²¡æœ‰ä¸Šæ¬¡é‚£æ ·çš„å®‰é™ï¼Œåšäº†å¾ˆå¤š ä¸å¯æè¿° çš„äº‹æƒ…ã€‚è™½ç„¶åœ¨åŒäº‹çœ‹æ¥å¯èƒ½å¹¶æ²¡æœ‰ä»€ä¹ˆï¼Œä½†æ˜¯æˆ‘è§‰å¾—ï¼Œæœ‰äº›äº‹æƒ…èƒ½é¿å…å‘ç”Ÿå°±åº”è¯¥æŠŠå®ƒæ‰¼æ€åœ¨èŒèŠ½å¤„ã€‚ä¿—è¯è¯´ â€œäº‹ä¸è¿‡ä¸‰â€ ï¼Œæ—¶åˆ»å‘Šè¯«è‡ªå·±ï¼Œå–é…’æ—¢ä¼¤èº«ï¼Œåˆè¯¯äº‹ï¼ï¼ï¼ 2. ç†¬å¤œï¼Œ2017å¹´é©¬ä¸Šå°±è¦è¿‡å»äº†ï¼Œä½†æ˜¯è¿™ä¸ªåä¹ æƒ¯è¿˜æ˜¯ä¸€ç›´ä¼´éšç€è‡ªå·±ï¼Œæ¯æ¬¡å¹¶ä¸æ˜¯ä¸æƒ³ç¡è§‰ï¼Œè€Œæ˜¯å¼ºè¡Œæ‰¾ç‚¹äº‹æƒ…æ¥åšï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå°±æ˜¯ä¸æƒ³é‚£ä¹ˆæ—©çš„ç¡ç€ï¼Œå¯èƒ½æˆ‘æœ‰ç‚¹â€œé»‘æš—ææƒ§ç—‡â€(å¯èƒ½å§ï¼Œå“ˆå“ˆ)ã€‚åœ¨ä»Šåçš„æ—¥å­é‡Œï¼Œå°½é‡æ—©ç‚¹ä¼‘æ¯ï¼Œä¸è¦ç†¬å¤œï¼› 3. å……å®è‡ªå·±ï¼Œæ˜¯çš„ï¼Œæ¯æ¬¡ç©ºé—²çš„æ—¶é—´ä¸æ˜¯æ‹¿æ¥ç©æ¸¸æˆï¼Œå°±æ˜¯æ‹¿æ¥ç©æ¸¸æˆï¼å¯¼è‡´è‡ªå·±ä¸å¤ªå–„äºä¸äººäº¤è°ˆï¼›å…¶æ¬¡å¯¼è‡´è‡ªå·±å¾ˆå®…ï¼Œè¿™ä¹Ÿæ˜¯è‡ªå·±ä¸€ç›´æ˜¯å•èº«çš„åŸå› ä¹‹ä¸€å§ï¼å“ˆå“ˆå“ˆã€‚æ‰€ä»¥ï¼Œ2018ï¼ŒåŠªåŠ›æ”¹å˜è‡ªå·±ï¼Œå……å®è‡ªå·±ï¼Œå¤šå¤šæ¥è§¦å¤–é¢çš„ä¸–ç•Œï¼Œå¤–é¢çš„äººï¼Œæ‰¾ç‚¹æ‘†è„±å•èº«çš„ç”Ÿæ´»ã€‚ å…³äºåšå®¢ æ—¶åˆ»è®°ä½è‡ªå·±åˆ›å»ºè¿™ä¸ªåšå®¢çš„åˆè¡·ï¼ç”Ÿæ´»ï¼Œä¸ç®¡æœ‰æ„æ€æ²¡æ„æ€ï¼Œåªè¦æ˜¯å€¼å¾—å›å‘³çš„äº‹æƒ…ï¼Œéƒ½å¯ä»¥è®°å½•ä¸‹æ¥ï¼›æŠ€æœ¯ï¼Œä¸ç®¡ç®€å•æˆ–æ˜¯å›°éš¾ï¼Œåªè¦æ˜¯æœ‰è‡ªå·±çš„æ„Ÿæ‚Ÿï¼Œå°±å€¼å¾—åˆ†äº«å‡ºæ¥ï¼Œå› ä¸ºå®ƒæ˜¯ä½ æˆé•¿çš„è·¯ç¨‹ã€‚ å…³äºè‡ªå·± æˆ‘ç«Ÿç„¶å¯¹è‡ªå·±æ— è¯å¯è¯´ï¼Œå“ˆå“ˆå“ˆï¼ï¼ï¼ä½†è®°ä½ï¼Œæ—¶åˆ»åšå¥½è‡ªå·±ï¼Œåšå¥½è‡ªå·±ç»æ‰‹çš„æ¯ä¸€ä»¶äº‹æƒ…ï¼ç›¸ä¿¡ä½ ä¼šæˆé•¿ä¸ºä¸€ä½ä¼˜ç§€çš„äººå‘˜ï¼]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[hexo då¼•å‘çš„æ€è€ƒ]]></title>
    <url>%2F2017%2F12%2F07%2Fhexo-d%E5%BC%95%E5%8F%91%E7%9A%84%E6%80%9D%E8%80%83%2F</url>
    <content type="text"><![CDATA[å¼•å‘æ€è€ƒçš„å¯¼ç«ç´¢ æœ€è¿‘ç”¨github pageså’Œhexoæ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œæ¯æ¬¡æœ¬åœ°å†™å¥½åï¼Œéœ€è¦åŒæ­¥åˆ°githubä¸Šï¼Œè¿™éœ€è¦æ‰§è¡Œä¸‹é¢ä¸€ç³»åˆ—çš„å‘½ä»¤123$ hexo clean$ hexo g &amp;&amp; gulp$ hexo d ä¸ºäº†å›¾ä¸ªæ–¹ä¾¿ï¼Œäºæ˜¯æˆ‘å†™äº†ä¸€ä¸ªblog.shçš„è„šæœ¬æ–‡ä»¶ï¼Œå°†ä¸Šé¢çš„å‘½ä»¤æ·»åŠ åœ¨è„šæœ¬ä¸­ï¼Œæ¯æ¬¡æƒ³è¦æ›´æ–°åšå®¢çš„æ—¶å€™ç›´æ¥æ‰§è¡Œè„šæœ¬æ–‡ä»¶å°±å¯ä»¥äº†ã€‚ä½†æ˜¯ä»¤æˆ‘å¾ˆçƒ¦æ¼çš„æ˜¯æ¯æ¬¡æ‰§è¡Œåˆ°hexo dçš„æ—¶å€™å°±éœ€è¦è¾“å…¥å¯†ç ï¼Œå¯¹äºæˆ‘è¿™ä¸ªæ‡’ç™Œæ·±å…¥éª¨é«“çš„äººæ¥è¯´æ˜¯æ— æ³•å®¹å¿çš„ã€‚ é—®é¢˜å‡ºåœ¨å“ªé‡Œ æˆ‘ä¹Ÿè¿™ä¹ˆé—®è¿‡è‡ªå·±ã€‚ä½†æ˜¯å¯¹äºè¢«gitå·¥å…·æƒ¯åçš„æˆ‘æ¥è¯´ï¼Œå¯¹äºgitçš„ä¸€äº›å‘½ä»¤è¡Œç€å®ä¸å¤ªä¼šç©ã€‚æˆ‘åœ¨googleä¸Šæœç´¢äº†ç›¸å…³çš„é—®é¢˜ï¼Œå¾—åˆ°çš„ç­”æ¡ˆéƒ½æ˜¯ä¸è¦ä½¿ç”¨httpsçš„æ–¹å¼ï¼Œä½¿ç”¨sshçš„æ–¹å¼ï¼Œç„¶åå†å°†ç”Ÿæˆçš„sshå…¬é’¥é…ç½®åœ¨githubä¸Šå°±ä¸ç”¨æ¯æ¬¡è¾“å…¥å¯†ç äº†ï¼Œä½†å®é™…ä¸Šæˆ‘å°±æ˜¯è¿™ä¹ˆåšçš„ã€‚äºæ˜¯æˆ‘å»è¯¢é—®äº†å…«å“¥ï¼Œä»–è¯´ä½ æ˜¯ä¸æ˜¯ç»™sshè®¾ç½®äº†å¯†ç ï¼Œä»”ç»†ä¸€æƒ³ï¼Œå¥½åƒè¿˜çœŸæ˜¯ï¼Œç”Ÿæˆsshçš„æ—¶å€™ï¼Œæˆ‘è¿˜ç¡®å®è®¾ç½®è¿‡å¯†ç ã€‚äºæ˜¯æˆ‘é‡æ–°ç”Ÿæˆäº†sshï¼Œç„¶åå°†å…¬é’¥æ›´æ–°åˆ°githubä¸Šï¼Œå†æ¬¡æ‰§è¡Œblog.shè„šæœ¬æ–‡ä»¶çš„æ—¶å€™å°±æ²¡æœ‰å‡ºç°è¿‡éœ€è¦è¾“å…¥å¯†ç çš„æƒ…å†µäº†ã€‚ å¥½å¥‡å¿ƒé©±ä½¿ è¿™ä¸ªç®€å•çš„é—®é¢˜ç¡®å®æ˜¯å¾ˆå¿«å¾—åˆ°äº†è§£å†³ï¼Œä½†æ˜¯å¥½å¥‡å¿ƒé©±ä½¿çš„æˆ‘è¿˜æœ‰å‡ ä¸ªé—®é¢˜éœ€è¦å¼„æ˜ç™½ã€‚ sshçš„å¯†ç æ˜¯å¦æ˜¯å¿…è¦çš„ï¼Ÿ httpsæ–¹å¼å’Œsshæ–¹å¼çš„åŒºåˆ«ï¼Ÿ sshçš„å¯†ç æ˜¯å¦æ˜¯æœ‰å¿…è¦çš„ å½“æˆ‘ä»¬é€šè¿‡sshçš„æ–¹å¼è¯•å›¾å»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œå¦‚æœå®¢æˆ·ç«¯çš„ç§é’¥å’ŒæœåŠ¡ç«¯çš„å…¬é’¥èƒ½å¤ŸåŒ¹é…ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªå®¢æˆ·ç«¯æ‰ä¼šè¢«æˆäºˆè®¿é—®æƒé™ã€‚sshå…¬é’¥å¯ä»¥ç¡®ä¿åœ¨æ²¡æœ‰å¯†ç çš„æƒ…å†µä¸‹å®‰å…¨çš„ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœä½ çš„ç”µè„‘è¢«é»‘äº†ï¼Œåˆ«äººå°±å¯ä»¥ä¸å—é™åˆ¶çš„é€šè¿‡ä½ çš„ç”µè„‘å’ŒæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸è§‰å¾—éº»çƒ¦çš„è¯ï¼Œæœ€å¥½è¿˜æ˜¯ç»™sshè®¾ç½®ä¸€ä¸ªå¯†ç å§ã€‚ å¦‚ä½•ç”Ÿæˆssh åœ¨æ­¤è®°å½•ä¸‹å¦‚ä½•ç”Ÿæˆsshå¯†é’¥ï¼Œå…å¾—æ¯æ¬¡éƒ½å¾—googleã€‚1$ ssh-keygen -t rsa -C "ä½ çš„é‚®ç®±" æ‰§è¡Œä¸Šé¢çš„è„šæœ¬ï¼Œå¦‚æœä½ å«Œéº»çƒ¦å°±ä¸€è·¯å›è½¦å°±å¥½ï¼Œç”Ÿæˆçš„sshå¯†é’¥æ˜¯æ²¡æœ‰å¯†ç çš„ã€‚è¿™æ ·å°±ä¿è¯æ¯æ¬¡æäº¤gitçš„æ—¶å€™ä¸ç”¨è¾“å…¥å¯†ç ã€‚1$ pbcopy &lt; ~/.ssh/id_rsa.pub ç„¶åé€šè¿‡ä¸Šé¢çš„å‘½ä»¤ï¼Œå°†sshçš„å…¬é’¥copyå‡ºæ¥ï¼Œæœ€åå°†å…¶ç²˜è´´åˆ°githubä¸Šå°±å¯ä»¥äº†ã€‚ httpsæ–¹å¼å’Œsshæ–¹å¼çš„åŒºåˆ« è¿™ä¸ªé—®é¢˜äº§ç”Ÿæ˜¯æˆ‘å‘ç°githubä¸Šcloneä»£ç çš„åœ°æ–¹æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯httpsï¼Œä¸€ç§æ˜¯sshã€‚äºæ˜¯æˆ‘å°è¯•ç”¨httpsçš„æ–¹å¼cloneäº†ä»£ç ï¼Œç„¶åä¿®æ”¹äº†ä»£ç å†pushåˆ°githubä¸Šï¼Œä½†æ˜¯å‘ç°æ¯æ¬¡æäº¤ä»£ç çš„æ—¶å€™æˆ‘éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè€Œé€šè¿‡sshçš„æ–¹å¼æˆ‘ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡äº†ã€‚ å› ä¸ºä½¿ç”¨httpsçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ˜¯ä¸çŸ¥é“è¿™ä¸ªè¯·æ±‚ç”±è°å‘èµ·çš„ï¼Œæ‰€ä»¥å¾—æ¯æ¬¡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯ï¼Œè¿™æ ·æœåŠ¡å™¨æ‰èƒ½çŸ¥é“æ‰§è¡Œpushæ“ä½œçš„æ˜¯è°ï¼Œæœ‰æ²¡æœ‰æƒé™è¿›è¡Œpushã€‚ è€Œä½¿ç”¨sshæ–¹å¼æœåŠ¡å™¨å¯ä»¥æ ¹æ®ç§é’¥å’Œå…¬é’¥æ˜¯å¦åŒ¹é…æ¥çŸ¥é“ä½ æ˜¯è°ï¼Œæ˜¯å¦æœ‰æƒé™è¿›è¡Œpushæ“ä½œã€‚ æ‰“ç ´ç ‚é”…é—®åˆ°åº• é‚£æˆ‘æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼æ˜¯åœ¨ä½¿ç”¨httpsçš„æ—¶å€™ä¹Ÿä¸ç”¨è¾“å…¥è´¦æˆ·åå’Œå¯†ç å‘¢ï¼Ÿå…¶å®ä¹Ÿæ˜¯æœ‰æ–¹å¼çš„ï¼Œå°†ç”¨æˆ·åå’Œå¯†ç ä¿å­˜åœ¨æœ¬åœ°ã€‚1$ git config credential.helper store å½“æˆ‘ä»¬å†æäº¤ä»£ç çš„æ—¶å€™ï¼Œä¼šå°†repoçš„urlå’Œç”¨æˆ·åå¯†ç ä»¥ æ˜æ–‡ çš„æ–¹å¼ä¿å­˜åœ¨æ ¹ç›®å½•ä¸‹é¢çš„ .git-credentials æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹å¼æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ã€‚1$ open ~/.git-credentials é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œæœ‰æ²¡æœ‰åŠ å¯†æ–¹å¼å»ä¿å­˜è¿™ä¸ªä¸œè¥¿ï¼Œå—¯ï¼Œäºæ˜¯æˆ‘åˆå»googleäº†ä¸‹ï¼Œæ‰¾åˆ°å¦‚ä¸‹çš„å‘½ä»¤1$ git config --global credential.helper osxkeychain è¿™ä¼šå‘Šè¯‰gitç”¨ osxkeychain è¿™ç§æ–¹å¼è¿›è¡Œä¿å­˜ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥ æ€»ç»“ è¿™ç¡®å®æ˜¯ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼Œä½†æ˜¯è®©æˆ‘æ˜ç™½äº†å¾ˆå¤šæ–°ä¸œè¥¿ã€‚æ€€æ£ç€ç–‘é—®çš„æ€åº¦å»çœ‹å¾…äº‹æƒ…ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šæœ‰è¶£çš„ä¸œè¥¿ã€‚åŒæ—¶å‘Šè¯«è‡ªå·±ä»¥åè¦å¤šç”¨å‘½ä»¤è¡Œï¼Œä¸èƒ½è¢«å·¥å…·æƒ¯åäº†ï¼ï¼ï¼ï¼ï¼ï¼]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç•™ä¸‹æˆé•¿çš„è¶³è¿¹]]></title>
    <url>%2F2017%2F12%2F06%2F%E7%95%99%E4%B8%8B%E6%88%90%E9%95%BF%E7%9A%84%E8%B6%B3%E8%BF%B9%2F</url>
    <content type="text"><![CDATA[æ¥æ­å·ä¸çŸ¥ä¸è§‰å·²ç»è¿‡å»ä¸€å¹´ä¹‹ä¹…ï¼Œå‘ç°è‡ªå·±å˜å¾—è¶Šæ¥è¶Šé˜³(è‡­)å…‰(ä¸)å¸…(è¦)æ°”(è„¸)äº†ã€‚ ä¸€å¹´æ¥ï¼Œç»å¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½æ˜¯åœ¨æ’¸ä»£ç ï¼Œä½†æ˜¯å´æ²¡æœ‰é™ä¸‹å¿ƒæ¥è®¤çœŸçš„æ€è€ƒå’Œæ€»ç»“è¿‡ï¼Œä»¥è‡³äºæœ‰äº›æŠ€æœ¯ä¸€æ®µæ—¶é—´åå°±é—å¿˜æ‰äº†ã€‚å¾ˆæ—©ä»¥å‰ï¼Œå°±æƒ³ç€æ­ä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯ç”±äºå„ç§åŸå› ä¸€ç›´æ²¡æœ‰å®é™…è¡ŒåŠ¨è¿‡ã€‚åˆšå¥½å‰æ®µæ—¶é—´ï¼Œçœ‹åˆ°æŒšå‹è‡ªå·±æ­çš„åšå®¢ï¼Œäºæ˜¯åˆç‡ƒèµ·äº†è¿™ä»½å†²åŠ¨ã€‚ æ„Ÿè°¢HeZhouçš„å¸®åŠ©ï¼Œæˆ‘ä¸æ˜¯ä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯åœ¨è¿™ä½æŒšå‹ä¸è¾è¾›åŠ³çš„æŒ‡å¯¼ä¸‹å¼„å¥½çš„ã€‚ å…¶å®æ­å»ºè¿™ä¸ªåšå®¢ä¸å•å•åªæ˜¯æƒ³åšæŠ€(å¹)æœ¯(ç‰›)ä¸Šçš„æ€»ç»“ï¼ŒåŒæ—¶è¿˜æƒ³ç€æœ‰æ„æ€çš„äº‹æƒ…è®°å½•ä¸‹æ¥ã€‚è‹¥å¹²å¹´åå›é¦–ï¼Œä¸æ‚”å½“åˆçš„é€‰æ‹©ã€‚ å¦‚æœæ‚¨åœ¨é˜…è¯»æ–‡ç« çš„è¿‡ç¨‹ä¸­è§‰å¾—æœ‰äº›åœ°æ–¹å†™çš„ä¸å¯¹ï¼Œæˆ–è€…æ²¡æœ‰å†™æ¸…æ¥šçš„ï¼Œæ¬¢è¿ç•™ä¸‹æ‚¨å®è´µçš„æ„è§ï¼Œæˆ‘ä¼šè®¤çœŸåˆ†æå¹¶æ”¹æ­£ï¼Œè°¢è°¢ï¼]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
  </entry>
</search>
